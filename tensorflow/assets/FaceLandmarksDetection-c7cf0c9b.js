import{aN as W2,aO as Ct}from"./index-c5cb974d.js";import"./register_all_kernels-49f39960.js";import{l as xt,T as Re,t as Mt,a as W1,c as C2,s as y1,i as n2,e as R2,d as $1,f as At,b as nt,g as F2,h as ce,m as H1,j as t2,k as _1,n as R1,o as it,p as ot,q as at,r as Ce,u as Rt,v as Lt}from"./graph_model-9162a669.js";import{d as Pt,e as S2,f as It,g as Ut,c as st,h as Me,t as Bt,i as Nt,o as ut,p as Dt,j as zt}from"./index-79df1d55.js";import{_ as Vt}from"./_plugin-vue_export-helper-c27b6911.js";var Gt={};(function(){var u;function v(t){var n=0;return function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}}}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,n,i){return t==Array.prototype||t==Object.prototype||(t[n]=i.value),t};function g(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof W2=="object"&&W2];for(var n=0;n<t.length;++n){var i=t[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}var f=g(this);function w(t,n){if(n)e:{var i=f;t=t.split(".");for(var h=0;h<t.length-1;h++){var m=t[h];if(!(m in i))break e;i=i[m]}t=t[t.length-1],h=i[t],n=n(h),n!=h&&n!=null&&d(i,t,{configurable:!0,writable:!0,value:n})}}w("Symbol",function(t){function n(T){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new i(h+(T||"")+"_"+m++,T)}function i(T,M){this.g=T,d(this,"description",{configurable:!0,writable:!0,value:M})}if(t)return t;i.prototype.toString=function(){return this.g};var h="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",m=0;return n}),w("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var h=f[n[i]];typeof h=="function"&&typeof h.prototype[t]!="function"&&d(h.prototype,t,{configurable:!0,writable:!0,value:function(){return y(v(this))}})}return t});function y(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function x(t){var n=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:v(t)}}function _(t){if(!(t instanceof Array)){t=x(t);for(var n,i=[];!(n=t.next()).done;)i.push(n.value);t=i}return t}var E=typeof Object.create=="function"?Object.create:function(t){function n(){}return n.prototype=t,new n},b;if(typeof Object.setPrototypeOf=="function")b=Object.setPrototypeOf;else{var j;e:{var k={a:!0},C={};try{C.__proto__=k,j=C.a;break e}catch{}j=!1}b=j?function(t,n){if(t.__proto__=n,t.__proto__!==n)throw new TypeError(t+" is not extensible");return t}:null}var I=b;function D(t,n){if(t.prototype=E(n.prototype),t.prototype.constructor=t,I)I(t,n);else for(var i in n)if(i!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(n,i);h&&Object.defineProperty(t,i,h)}else t[i]=n[i];t.ea=n.prototype}function H(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function B(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}H.prototype.o=function(t){this.h=t};function W(t,n){t.j={U:n,V:!0},t.g=t.m||t.s}H.prototype.return=function(t){this.j={return:t},this.g=this.s};function z(t,n,i){return t.g=i,{value:n}}function Y(t){this.g=new H,this.h=t}function K(t,n){B(t.g);var i=t.g.i;return i?X(t,"return"in i?i.return:function(h){return{value:h,done:!0}},n,t.g.return):(t.g.return(n),a1(t))}function X(t,n,i,h){try{var m=n.call(t.g.i,i);if(!(m instanceof Object))throw new TypeError("Iterator result "+m+" is not an object");if(!m.done)return t.g.l=!1,m;var T=m.value}catch(M){return t.g.i=null,W(t.g,M),a1(t)}return t.g.i=null,h.call(t.g,T),a1(t)}function a1(t){for(;t.g.g;)try{var n=t.h(t.g);if(n)return t.g.l=!1,{value:n.value,done:!1}}catch(i){t.g.h=void 0,W(t.g,i)}if(t.g.l=!1,t.g.j){if(n=t.g.j,t.g.j=null,n.V)throw n.U;return{value:n.return,done:!0}}return{value:void 0,done:!0}}function l1(t){this.next=function(n){return B(t.g),t.g.i?n=X(t,t.g.i.next,n,t.g.o):(t.g.o(n),n=a1(t)),n},this.throw=function(n){return B(t.g),t.g.i?n=X(t,t.g.i.throw,n,t.g.o):(W(t.g,n),n=a1(t)),n},this.return=function(n){return K(t,n)},this[Symbol.iterator]=function(){return this}}function G(t,n){return n=new l1(new Y(n)),I&&t.prototype&&I(n,t.prototype),n}function t1(t,n){t instanceof String&&(t+="");var i=0,h=!1,m={next:function(){if(!h&&i<t.length){var T=i++;return{value:n(T,t[T]),done:!1}}return h=!0,{done:!0,value:void 0}}};return m[Symbol.iterator]=function(){return m},m}var U1=typeof Object.assign=="function"?Object.assign:function(t,n){for(var i=1;i<arguments.length;i++){var h=arguments[i];if(h)for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(t[m]=h[m])}return t};w("Object.assign",function(t){return t||U1}),w("Promise",function(t){function n(M){this.h=0,this.i=void 0,this.g=[],this.o=!1;var S=this.j();try{M(S.resolve,S.reject)}catch(R){S.reject(R)}}function i(){this.g=null}function h(M){return M instanceof n?M:new n(function(S){S(M)})}if(t)return t;i.prototype.h=function(M){if(this.g==null){this.g=[];var S=this;this.i(function(){S.l()})}this.g.push(M)};var m=f.setTimeout;i.prototype.i=function(M){m(M,0)},i.prototype.l=function(){for(;this.g&&this.g.length;){var M=this.g;this.g=[];for(var S=0;S<M.length;++S){var R=M[S];M[S]=null;try{R()}catch(N){this.j(N)}}}this.g=null},i.prototype.j=function(M){this.i(function(){throw M})},n.prototype.j=function(){function M(N){return function(J){R||(R=!0,N.call(S,J))}}var S=this,R=!1;return{resolve:M(this.C),reject:M(this.l)}},n.prototype.C=function(M){if(M===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(M instanceof n)this.F(M);else{e:switch(typeof M){case"object":var S=M!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.u(M):this.m(M)}},n.prototype.u=function(M){var S=void 0;try{S=M.then}catch(R){this.l(R);return}typeof S=="function"?this.G(S,M):this.m(M)},n.prototype.l=function(M){this.s(2,M)},n.prototype.m=function(M){this.s(1,M)},n.prototype.s=function(M,S){if(this.h!=0)throw Error("Cannot settle("+M+", "+S+"): Promise already settled in state"+this.h);this.h=M,this.i=S,this.h===2&&this.D(),this.A()},n.prototype.D=function(){var M=this;m(function(){if(M.B()){var S=f.console;typeof S<"u"&&S.error(M.i)}},1)},n.prototype.B=function(){if(this.o)return!1;var M=f.CustomEvent,S=f.Event,R=f.dispatchEvent;return typeof R>"u"?!0:(typeof M=="function"?M=new M("unhandledrejection",{cancelable:!0}):typeof S=="function"?M=new S("unhandledrejection",{cancelable:!0}):(M=f.document.createEvent("CustomEvent"),M.initCustomEvent("unhandledrejection",!1,!0,M)),M.promise=this,M.reason=this.i,R(M))},n.prototype.A=function(){if(this.g!=null){for(var M=0;M<this.g.length;++M)T.h(this.g[M]);this.g=null}};var T=new i;return n.prototype.F=function(M){var S=this.j();M.J(S.resolve,S.reject)},n.prototype.G=function(M,S){var R=this.j();try{M.call(S,R.resolve,R.reject)}catch(N){R.reject(N)}},n.prototype.then=function(M,S){function R(q,Z){return typeof q=="function"?function(V){try{N(q(V))}catch(e){J(e)}}:Z}var N,J,n1=new n(function(q,Z){N=q,J=Z});return this.J(R(M,N),R(S,J)),n1},n.prototype.catch=function(M){return this.then(void 0,M)},n.prototype.J=function(M,S){function R(){switch(N.h){case 1:M(N.i);break;case 2:S(N.i);break;default:throw Error("Unexpected state: "+N.h)}}var N=this;this.g==null?T.h(R):this.g.push(R),this.o=!0},n.resolve=h,n.reject=function(M){return new n(function(S,R){R(M)})},n.race=function(M){return new n(function(S,R){for(var N=x(M),J=N.next();!J.done;J=N.next())h(J.value).J(S,R)})},n.all=function(M){var S=x(M),R=S.next();return R.done?h([]):new n(function(N,J){function n1(V){return function(e){q[V]=e,Z--,Z==0&&N(q)}}var q=[],Z=0;do q.push(void 0),Z++,h(R.value).J(n1(q.length-1),J),R=S.next();while(!R.done)})},n}),w("Object.is",function(t){return t||function(n,i){return n===i?n!==0||1/n===1/i:n!==n&&i!==i}}),w("Array.prototype.includes",function(t){return t||function(n,i){var h=this;h instanceof String&&(h=String(h));var m=h.length;for(i=i||0,0>i&&(i=Math.max(i+m,0));i<m;i++){var T=h[i];if(T===n||Object.is(T,n))return!0}return!1}}),w("String.prototype.includes",function(t){return t||function(n,i){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(n,i||0)!==-1}}),w("Array.prototype.keys",function(t){return t||function(){return t1(this,function(n){return n})}});var X1=this||self;function u1(t,n){t=t.split(".");var i=X1;t[0]in i||typeof i.execScript>"u"||i.execScript("var "+t[0]);for(var h;t.length&&(h=t.shift());)t.length||n===void 0?i[h]&&i[h]!==Object.prototype[h]?i=i[h]:i=i[h]={}:i[h]=n}function r2(t,n){return n=String.fromCharCode.apply(null,n),t==null?n:t+n}var i2,o2=typeof TextDecoder<"u",te,a2=typeof TextEncoder<"u";function Le(t){if(a2)t=(te||(te=new TextEncoder)).encode(t);else{var n=void 0;n=n===void 0?!1:n;for(var i=0,h=new Uint8Array(3*t.length),m=0;m<t.length;m++){var T=t.charCodeAt(m);if(128>T)h[i++]=T;else{if(2048>T)h[i++]=T>>6|192;else{if(55296<=T&&57343>=T){if(56319>=T&&m<t.length){var M=t.charCodeAt(++m);if(56320<=M&&57343>=M){T=1024*(T-55296)+M-56320+65536,h[i++]=T>>18|240,h[i++]=T>>12&63|128,h[i++]=T>>6&63|128,h[i++]=T&63|128;continue}else m--}if(n)throw Error("Found an unpaired surrogate");T=65533}h[i++]=T>>12|224,h[i++]=T>>6&63|128}h[i++]=T&63|128}}t=h.subarray(0,i)}return t}var Pe={},B1=null;function s2(t,n){n===void 0&&(n=0),c2(),n=Pe[n];for(var i=Array(Math.floor(t.length/3)),h=n[64]||"",m=0,T=0;m<t.length-2;m+=3){var M=t[m],S=t[m+1],R=t[m+2],N=n[M>>2];M=n[(M&3)<<4|S>>4],S=n[(S&15)<<2|R>>6],R=n[R&63],i[T++]=N+M+S+R}switch(N=0,R=h,t.length-m){case 2:N=t[m+1],R=n[(N&15)<<2]||h;case 1:t=t[m],i[T]=n[t>>2]+n[(t&3)<<4|N>>4]+R+h}return i.join("")}function Ie(t){var n=t.length,i=3*n/4;i%3?i=Math.floor(i):"=.".indexOf(t[n-1])!=-1&&(i="=.".indexOf(t[n-2])!=-1?i-2:i-1);var h=new Uint8Array(i),m=0;return u2(t,function(T){h[m++]=T}),h.subarray(0,m)}function u2(t,n){function i(R){for(;h<t.length;){var N=t.charAt(h++),J=B1[N];if(J!=null)return J;if(!/^[\s\xa0]*$/.test(N))throw Error("Unknown base64 encoding at char: "+N)}return R}c2();for(var h=0;;){var m=i(-1),T=i(0),M=i(64),S=i(64);if(S===64&&m===-1)break;n(m<<2|T>>4),M!=64&&(n(T<<4&240|M>>2),S!=64&&n(M<<6&192|S))}}function c2(){if(!B1){B1={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),n=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++){var h=t.concat(n[i].split(""));Pe[i]=h;for(var m=0;m<h.length;m++){var T=h[m];B1[T]===void 0&&(B1[T]=m)}}}}var N1=typeof Uint8Array.prototype.slice=="function",Ue;function Ae(t,n,i){return n===i?Ue||(Ue=new Uint8Array(0)):N1?t.slice(n,i):new Uint8Array(t.subarray(n,i))}var S1=0,F1=0;function c1(t,n){n=n===void 0?{}:n,n=n.v===void 0?!1:n.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=n,t&&ne(this,t)}function ne(t,n){n=n.constructor===Uint8Array?n:n.constructor===ArrayBuffer?new Uint8Array(n):n.constructor===Array?new Uint8Array(n):n.constructor===String?Ie(n):n instanceof Uint8Array?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(0),t.h=n,t.l=0,t.j=t.h.length,t.g=t.l}c1.prototype.reset=function(){this.g=this.l};function le(t){for(var n=128,i=0,h=0,m=0;4>m&&128<=n;m++)n=t.h[t.g++],i|=(n&127)<<7*m;if(128<=n&&(n=t.h[t.g++],i|=(n&127)<<28,h|=(n&127)>>4),128<=n)for(m=0;5>m&&128<=n;m++)n=t.h[t.g++],h|=(n&127)<<7*m+3;if(128>n)return t=i>>>0,n=h>>>0,(h=n&2147483648)&&(t=~t+1>>>0,n=~n>>>0,t==0&&(n=n+1>>>0)),t=4294967296*n+(t>>>0),h?-t:t;t.m=!0}c1.prototype.i=function(){var t=this.h,n=t[this.g],i=n&127;return 128>n?(this.g+=1,i):(n=t[this.g+1],i|=(n&127)<<7,128>n?(this.g+=2,i):(n=t[this.g+2],i|=(n&127)<<14,128>n?(this.g+=3,i):(n=t[this.g+3],i|=(n&127)<<21,128>n?(this.g+=4,i):(n=t[this.g+4],i|=(n&15)<<28,128>n?(this.g+=5,i>>>0):(this.g+=5,128<=t[this.g++]&&128<=t[this.g++]&&128<=t[this.g++]&&128<=t[this.g++]&&this.g++,i)))))},c1.prototype.o=function(){var t=this.h[this.g],n=this.h[this.g+1],i=this.h[this.g+2],h=this.h[this.g+3];return this.g+=4,i=(t<<0|n<<8|i<<16|h<<24)>>>0,t=2*(i>>31)+1,n=i>>>23&255,i&=8388607,n==255?i?NaN:1/0*t:n==0?t*Math.pow(2,-149)*i:t*Math.pow(2,n-150)*(i+Math.pow(2,23))};var _e=[];function j1(){this.g=new Uint8Array(64),this.h=0}j1.prototype.push=function(t){if(!(this.h+1<this.g.length)){var n=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(n)}this.g[this.h++]=t},j1.prototype.length=function(){return this.h},j1.prototype.end=function(){var t=this.g,n=this.h;return this.h=0,Ae(t,0,n)};function L1(t,n){for(;127<n;)t.push(n&127|128),n>>>=7;t.push(n)}function re(t){var n={},i=n.N===void 0?!1:n.N;this.o={v:n.v===void 0?!1:n.v},this.N=i,n=this.o,_e.length?(i=_e.pop(),n&&(i.v=n.v),t&&ne(i,t),t=i):t=new c1(t,n),this.g=t,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}re.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function b1(t){var n=t.g;if((n=n.g==n.j)||(n=t.j)||(n=t.g,n=n.m||0>n.g||n.g>n.j),n)return!1;t.m=t.g.g,n=t.g.i();var i=n&7;return i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(t.j=!0,!1):(t.i=n,t.l=n>>>3,t.h=i,!0)}function P1(t){switch(t.h){case 0:if(t.h!=0)P1(t);else{for(t=t.g;t.h[t.g]&128;)t.g++;t.g++}break;case 1:t.h!=1?P1(t):(t=t.g,t.g+=8);break;case 2:if(t.h!=2)P1(t);else{var n=t.g.i();t=t.g,t.g+=n}break;case 5:t.h!=5?P1(t):(t=t.g,t.g+=4);break;case 3:n=t.l;do{if(!b1(t)){t.j=!0;break}if(t.h==4){t.l!=n&&(t.j=!0);break}P1(t)}while(1);break;default:t.j=!0}}function Ee(t,n,i){var h=t.g.j,m=t.g.i(),T=t.g.g+m;if(t.g.j=T,i(n,t),i=T-t.g.g,i!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+m+" bytes, instead read "+(m-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return t.g.g=T,t.g.j=h,n}function d1(t){return t.g.o()}function fe(t){var n=t.g.i();t=t.g;var i=t.g;t.g+=n,t=t.h;var h;if(o2)(h=i2)||(h=i2=new TextDecoder("utf-8",{fatal:!1})),h=h.decode(t.subarray(i,i+n));else{n=i+n;for(var m=[],T=null,M,S,R;i<n;)M=t[i++],128>M?m.push(M):224>M?i>=n?m.push(65533):(S=t[i++],194>M||(S&192)!==128?(i--,m.push(65533)):m.push((M&31)<<6|S&63)):240>M?i>=n-1?m.push(65533):(S=t[i++],(S&192)!==128||M===224&&160>S||M===237&&160<=S||((h=t[i++])&192)!==128?(i--,m.push(65533)):m.push((M&15)<<12|(S&63)<<6|h&63)):244>=M?i>=n-2?m.push(65533):(S=t[i++],(S&192)!==128||(M<<28)+(S-144)>>30||((h=t[i++])&192)!==128||((R=t[i++])&192)!==128?(i--,m.push(65533)):(M=(M&7)<<18|(S&63)<<12|(h&63)<<6|R&63,M-=65536,m.push((M>>10&1023)+55296,(M&1023)+56320))):m.push(65533),8192<=m.length&&(T=r2(T,m),m.length=0);h=r2(T,m)}return h}function Be(t,n,i){var h=t.g.i();for(h=t.g.g+h;t.g.g<h;)i.push(n.call(t.g))}function Ne(t,n){t.h==2?Be(t,c1.prototype.o,n):n.push(d1(t))}function Y1(){this.h=[],this.i=0,this.g=new j1}function k1(t,n){n.length!==0&&(t.h.push(n),t.i+=n.length)}function de(t){var n=t.i+t.g.length();if(n===0)return new Uint8Array(0);n=new Uint8Array(n);for(var i=t.h,h=i.length,m=0,T=0;T<h;T++){var M=i[T];M.length!==0&&(n.set(M,m),m+=M.length)}return i=t.g,h=i.h,h!==0&&(n.set(i.g.subarray(0,h),m),i.h=0),t.h=[n],n}function x1(t,n,i){if(i!=null){L1(t.g,8*n+5),t=t.g;var h=i;h=(i=0>h?1:0)?-h:h,h===0?0<1/h?S1=F1=0:(F1=0,S1=2147483648):isNaN(h)?(F1=0,S1=2147483647):34028234663852886e22<h?(F1=0,S1=(i<<31|2139095040)>>>0):11754943508222875e-54>h?(h=Math.round(h/Math.pow(2,-149)),F1=0,S1=(i<<31|h)>>>0):(n=Math.floor(Math.log(h)/Math.LN2),h*=Math.pow(2,-n),h=Math.round(8388608*h),16777216<=h&&++n,F1=0,S1=(i<<31|n+127<<23|h&8388607)>>>0),i=S1,t.push(i>>>0&255),t.push(i>>>8&255),t.push(i>>>16&255),t.push(i>>>24&255)}}var ge=typeof Uint8Array=="function";function De(t,n,i){if(t!=null)return typeof t=="object"?ge&&t instanceof Uint8Array?i(t):ze(t,n,i):n(t)}function ze(t,n,i){if(Array.isArray(t)){for(var h=Array(t.length),m=0;m<t.length;m++)h[m]=De(t[m],n,i);return Array.isArray(t)&&t.W&&p1(h),h}h={};for(m in t)h[m]=De(t[m],n,i);return h}function h2(t){return typeof t=="number"?isFinite(t)?t:String(t):t}var l2={W:{value:!0,configurable:!0}};function p1(t){return Array.isArray(t)&&!Object.isFrozen(t)&&Object.defineProperties(t,l2),t}var h1;function f1(t,n,i){var h=h1;h1=null,t||(t=h),h=this.constructor.ca,t||(t=h?[h]:[]),this.j=h?0:-1,this.m=this.g=null,this.h=t;e:{if(h=this.h.length,t=h-1,h&&(h=this.h[t],!(h===null||typeof h!="object"||Array.isArray(h)||ge&&h instanceof Uint8Array))){this.l=t-this.j,this.i=h;break e}n!==void 0&&-1<n?(this.l=Math.max(n,t+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(i)for(n=0;n<i.length;n++)t=i[n],t<this.l?(t+=this.j,(h=this.h[t])?p1(h):this.h[t]=m1):(pe(this),(h=this.i[t])?p1(h):this.i[t]=m1)}var m1=Object.freeze(p1([]));function pe(t){var n=t.l+t.j;t.h[n]||(t.i=t.h[n]={})}function o1(t,n,i){return n===-1?null:i!==void 0&&i||n>=t.l?t.i?t.i[n]:void 0:t.h[n+t.j]}function ve(t,n){var i=i===void 0?!1:i,h=o1(t,n,i);return h==null&&(h=m1),h===m1&&(h=p1([]),e1(t,n,h,i)),h}function Ve(t){var n=ve(t,3);if(t.m||(t.m={}),!t.m[3]){for(var i=0;i<n.length;i++)n[i]=+n[i];t.m[3]=!0}return n}function D1(t,n,i){return t=o1(t,n),t??i}function E1(t,n,i){return t=o1(t,n),t=t==null?t:+t,t??(i===void 0?0:i)}function e1(t,n,i,h){h!==void 0&&h||n>=t.l?(pe(t),t.i[n]=i):t.h[n+t.j]=i}function f2(t,n,i){if(i===-1)return null;if(t.g||(t.g={}),!t.g[i]){var h=o1(t,i,!1);h&&(t.g[i]=new n(h))}return t.g[i]}function Te(t,n){t.g||(t.g={});var i=t.g[1];if(!i){var h=ve(t,1);i=[];for(var m=0;m<h.length;m++)i[m]=new n(h[m]);t.g[1]=i}return i}function ye(t,n,i){var h=h===void 0?!1:h;t.g||(t.g={});var m=i&&z1(i);t.g[n]=i,e1(t,n,m,h)}function me(t,n,i,h){var m=Te(t,i);n=n||new i,t=ve(t,1),h!=null?(m.splice(h,0,n),t.splice(h,0,z1(n))):(m.push(n),t.push(z1(n)))}f1.prototype.toJSON=function(){var t=z1(this);return ze(t,h2,s2)};function z1(t,n){if(t.g)for(var i in t.g){var h=t.g[i];if(Array.isArray(h))for(var m=0;m<h.length;m++)h[m]&&z1(h[m]);else h&&z1(h)}return t.h}f1.prototype.toString=function(){return z1(this).toString()};function Oe(t,n){if(t=t.o){k1(n,n.g.end());for(var i=0;i<t.length;i++)k1(n,t[i])}}function T1(t,n){if(n.h==4)return!1;var i=n.m;return P1(n),n.N||(n=Ae(n.g.h,i,n.g.g),(i=t.o)?i.push(n):t.o=[n]),!0}function V1(t){f1.call(this,t,-1,L2)}D(V1,f1),V1.prototype.getRows=function(){return o1(this,1)},V1.prototype.getCols=function(){return o1(this,2)},V1.prototype.getPackedDataList=function(){return Ve(this)},V1.prototype.getLayout=function(){return D1(this,4,0)};function d2(t,n){for(;b1(n);)switch(n.i){case 8:var i=n.g.i();e1(t,1,i);break;case 16:i=n.g.i(),e1(t,2,i);break;case 29:case 26:Ne(n,t.getPackedDataList());break;case 32:i=le(n.g),e1(t,4,i);break;default:if(!T1(t,n))return t}return t}var L2=[3];function g1(t,n){var i=void 0;return new(i||(i=Promise))(function(h,m){function T(R){try{S(n.next(R))}catch(N){m(N)}}function M(R){try{S(n.throw(R))}catch(N){m(N)}}function S(R){R.done?h(R.value):new i(function(N){N(R.value)}).then(T,M)}S((n=n.apply(t,void 0)).next())})}function G1(t){f1.call(this,t)}D(G1,f1);function g2(t,n){for(;b1(n);)switch(n.i){case 8:var i=n.g.i();e1(t,1,i);break;case 21:i=d1(n),e1(t,2,i);break;case 26:i=fe(n),e1(t,3,i);break;case 34:i=fe(n),e1(t,4,i);break;default:if(!T1(t,n))return t}return t}function Se(t){f1.call(this,t,-1,p2)}D(Se,f1),Se.prototype.addClassification=function(t,n){return me(this,t,G1,n),this};var p2=[1];function ie(t){f1.call(this,t)}D(ie,f1);function P2(t,n){for(;b1(n);)switch(n.i){case 13:var i=d1(n);e1(t,1,i);break;case 21:i=d1(n),e1(t,2,i);break;case 29:i=d1(n),e1(t,3,i);break;case 37:i=d1(n),e1(t,4,i);break;case 45:i=d1(n),e1(t,5,i);break;default:if(!T1(t,n))return t}return t}function v2(t){f1.call(this,t,-1,m2)}D(v2,f1);function y2(t){e:{var n=new v2;for(t=new re(t);b1(t);)switch(t.i){case 10:var i=Ee(t,new ie,P2);me(n,i,ie,void 0);break;default:if(!T1(n,t))break e}}return n}var m2=[1];function Fe(t){f1.call(this,t)}D(Fe,f1);function K1(t){f1.call(this,t,-1,U2)}D(K1,f1),K1.prototype.getVertexType=function(){return D1(this,1,0)},K1.prototype.getPrimitiveType=function(){return D1(this,2,0)},K1.prototype.getVertexBufferList=function(){return Ve(this)},K1.prototype.getIndexBufferList=function(){return ve(this,4)};function I2(t,n){for(;b1(n);)switch(n.i){case 8:var i=le(n.g);e1(t,1,i);break;case 16:i=le(n.g),e1(t,2,i);break;case 29:case 26:Ne(n,t.getVertexBufferList());break;case 32:case 34:i=n;var h=t.getIndexBufferList();i.h==2?Be(i,c1.prototype.i,h):h.push(i.g.i());break;default:if(!T1(t,n))return t}return t}var U2=[3,4];function je(t){f1.call(this,t)}D(je,f1),je.prototype.getMesh=function(){return f2(this,K1,1)},je.prototype.getPoseTransformMatrix=function(){return f2(this,V1,2)};function w2(t){e:{var n=new je;for(t=new re(t);b1(t);)switch(t.i){case 10:var i=Ee(t,new K1,I2);ye(n,1,i);break;case 18:i=Ee(t,new V1,d2),ye(n,2,i);break;default:if(!T1(n,t))break e}}return n}function Ge(t,n,i){if(i=t.createShader(i===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(i));return i}function He(t){return Te(t,G1).map(function(n){return{index:D1(n,1,0),Y:E1(n,2),label:o1(n,3)!=null?D1(n,3,""):void 0,displayName:o1(n,4)!=null?D1(n,4,""):void 0}})}function We(t){return{x:E1(t,1),y:E1(t,2),z:E1(t,3),visibility:o1(t,4)!=null?E1(t,4):void 0}}function we(t,n){this.h=t,this.g=n,this.l=0}function oe(t,n,i){return O1(t,n),typeof t.g.canvas.transferToImageBitmap=="function"?Promise.resolve(t.g.canvas.transferToImageBitmap()):i?Promise.resolve(t.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.g.canvas):(t.i===void 0&&(t.i=document.createElement("canvas")),new Promise(function(h){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),h(t.i)}))}function O1(t,n){var i=t.g;if(t.m===void 0){var h=Ge(i,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),m=Ge(i,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),T=i.createProgram();if(i.attachShader(T,h),i.attachShader(T,m),i.linkProgram(T),!i.getProgramParameter(T,i.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+i.getProgramInfoLog(T));h=t.m=T,i.useProgram(h),m=i.getUniformLocation(h,"sampler0"),t.j={I:i.getAttribLocation(h,"aVertex"),H:i.getAttribLocation(h,"aTex"),da:m},t.s=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,t.s),i.enableVertexAttribArray(t.j.I),i.vertexAttribPointer(t.j.I,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),t.o=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,t.o),i.enableVertexAttribArray(t.j.H),i.vertexAttribPointer(t.j.H,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),i.uniform1i(m,0)}h=t.j,i.useProgram(t.m),i.canvas.width=n.width,i.canvas.height=n.height,i.viewport(0,0,n.width,n.height),i.activeTexture(i.TEXTURE0),t.h.bindTexture2d(n.glName),i.enableVertexAttribArray(h.I),i.bindBuffer(i.ARRAY_BUFFER,t.s),i.vertexAttribPointer(h.I,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(h.H),i.bindBuffer(i.ARRAY_BUFFER,t.o),i.vertexAttribPointer(h.H,2,i.FLOAT,!1,0,0),i.bindFramebuffer(i.DRAW_FRAMEBUFFER?i.DRAW_FRAMEBUFFER:i.FRAMEBUFFER,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.colorMask(!0,!0,!0,!0),i.drawArrays(i.TRIANGLE_FAN,0,4),i.disableVertexAttribArray(h.I),i.disableVertexAttribArray(h.H),i.bindBuffer(i.ARRAY_BUFFER,null),t.h.bindTexture2d(0)}function B2(t){this.g=t}var N2=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function b2(t,n){return n+t}function Xe(t,n){window[t]=n}function M1(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new Promise(function(i){n.addEventListener("load",function(){i()},!1),n.addEventListener("error",function(){i()},!1),document.body.appendChild(n)})}function x2(){return g1(this,function t(){return G(t,function(n){switch(n.g){case 1:return n.m=2,z(n,WebAssembly.instantiate(N2),4);case 4:n.g=3,n.m=0;break;case 2:return n.m=0,n.j=null,n.return(!1);case 3:return n.return(!0)}})})}function J1(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||b2,typeof window=="object")var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=n,t.options){n=x(Object.keys(t.options));for(var i=n.next();!i.done;i=n.next()){i=i.value;var h=t.options[i].default;h!==void 0&&(this.j[i]=typeof h=="function"?h():h)}}}u=J1.prototype,u.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function M2(t,n){return t.g.files===void 0?[]:typeof t.g.files=="function"?t.g.files(n):t.g.files}function Ye(t){return g1(t,function n(){var i=this,h,m,T,M,S,R,N,J,n1,q,Z;return G(n,function(V){switch(V.g){case 1:return h=i,i.R?(m=M2(i,i.j),z(V,x2(),2)):V.return();case 2:if(T=V.h,typeof window=="object")return Xe("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),Xe("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),R=m.filter(function(e){return e.data!==void 0}),N=m.filter(function(e){return e.data===void 0}),J=Promise.all(R.map(function(e){var r=ae(h,e.url);if(e.path!==void 0){var o=e.path;r=r.then(function(a){return h.overrideFile(o,a),Promise.resolve(a)})}return r})),n1=Promise.all(N.map(function(e){return e.simd===void 0||e.simd&&T||!e.simd&&!T?M1(h.locateFile(e.url,h.S)):Promise.resolve()})).then(function(){return g1(h,function e(){var r,o,a=this;return G(e,function(c){if(c.g==1)return r=window.createMediapipeSolutionsWasm,o=window.createMediapipeSolutionsPackedAssets,z(c,r(o),2);a.h=c.h,c.g=0})})}),q=function(){return g1(h,function e(){var r=this;return G(e,function(o){return r.g.graph&&r.g.graph.url?o=z(o,ae(r,r.g.graph.url),0):(o.g=0,o=void 0),o})})}(),z(V,Promise.all([n1,J,q]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return M=m.filter(function(e){return e.simd===void 0||e.simd&&T||!e.simd&&!T}).map(function(e){return h.locateFile(e.url,h.S)}),importScripts.apply(null,_(M)),z(V,createMediapipeSolutionsWasm(Module),6);case 6:i.h=V.h,i.l=new OffscreenCanvas(1,1),i.h.canvas=i.l,S=i.h.GL.createContext(i.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),i.h.GL.makeContextCurrent(S),V.g=4;break;case 7:if(i.l=document.createElement("canvas"),Z=i.l.getContext("webgl2",{}),!Z&&(Z=i.l.getContext("webgl",{}),!Z))return alert("Failed to create WebGL canvas context when passing video frame."),V.return();i.D=Z,i.h.canvas=i.l,i.h.createContext(i.l,!0,!0,{});case 4:i.i=new i.h.SolutionWasm,i.R=!1,V.g=0}})})}function D2(t){return g1(t,function n(){var i=this,h,m,T,M,S,R,N,J;return G(n,function(n1){if(n1.g==1){if(i.g.graph&&i.g.graph.url&&i.P===i.g.graph.url)return n1.return();if(i.o=!0,!i.g.graph||!i.g.graph.url){n1.g=2;return}return i.P=i.g.graph.url,z(n1,ae(i,i.g.graph.url),3)}for(n1.g!=2&&(h=n1.h,i.i.loadGraph(h)),m=x(Object.keys(i.B)),T=m.next();!T.done;T=m.next())M=T.value,i.i.overrideFile(M,i.B[M]);if(i.B={},i.g.listeners)for(S=x(i.g.listeners),R=S.next();!R.done;R=S.next())N=R.value,V2(i,N);J=i.j,i.j={},i.setOptions(J),n1.g=0})})}u.reset=function(){return g1(this,function t(){var n=this;return G(t,function(i){n.i&&(n.i.reset(),n.m={},n.s={}),i.g=0})})},u.setOptions=function(t,n){var i=this;if(n=n||this.g.options){for(var h=[],m=[],T={},M=x(Object.keys(t)),S=M.next();!S.done;T={K:T.K,L:T.L},S=M.next()){var R=S.value;R in this.j&&this.j[R]===t[R]||(this.j[R]=t[R],S=n[R],S!==void 0&&(S.onChange&&(T.K=S.onChange,T.L=t[R],h.push(function(N){return function(){return g1(i,function J(){var n1,q=this;return G(J,function(Z){if(Z.g==1)return z(Z,N.K(N.L),2);n1=Z.h,n1===!0&&(q.o=!0),Z.g=0})})}}(T))),S.graphOptionXref&&(R={valueNumber:S.type===1?t[R]:0,valueBoolean:S.type===0?t[R]:!1,valueString:S.type===2?t[R]:""},S=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),S.graphOptionXref),R),m.push(S))))}(h.length!==0||m.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(m),this.u=(this.u===void 0?[]:this.u).concat(h))}};function z2(t){return g1(t,function n(){var i=this,h,m,T,M,S,R,N;return G(n,function(J){switch(J.g){case 1:if(!i.o)return J.return();if(!i.u){J.g=2;break}h=x(i.u),m=h.next();case 3:if(m.done){J.g=5;break}return T=m.value,z(J,T(),4);case 4:m=h.next(),J.g=3;break;case 5:i.u=void 0;case 2:if(i.A){for(M=new i.h.GraphOptionChangeRequestList,S=x(i.A),R=S.next();!R.done;R=S.next())N=R.value,M.push_back(N);i.i.changeOptions(M),M.delete(),i.A=void 0}i.o=!1,J.g=0}})})}u.initialize=function(){return g1(this,function t(){var n=this;return G(t,function(i){return i.g==1?z(i,Ye(n),2):i.g!=3?z(i,D2(n),3):z(i,z2(n),0)})})};function ae(t,n){return g1(t,function i(){var h=this,m,T;return G(i,function(M){return n in h.F?M.return(h.F[n]):(m=h.locateFile(n,""),T=fetch(m).then(function(S){return S.arrayBuffer()}),h.F[n]=T,M.return(T))})})}u.overrideFile=function(t,n){this.i?this.i.overrideFile(t,n):this.B[t]=n},u.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},u.send=function(t,n){return g1(this,function i(){var h=this,m,T,M,S,R,N,J,n1,q;return G(i,function(Z){switch(Z.g){case 1:return h.g.inputs?(m=1e3*(n??performance.now()),z(Z,h.C,2)):Z.return();case 2:return z(Z,h.initialize(),3);case 3:for(T=new h.h.PacketDataList,M=x(Object.keys(t)),S=M.next();!S.done;S=M.next())if(R=S.value,N=h.g.inputs[R]){e:{var V=h,e=t[R];switch(N.type){case"video":var r=V.m[N.stream];if(r||(r=new we(V.h,V.D),V.m[N.stream]=r),V=r,V.l===0&&(V.l=V.h.createTexture()),typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement){var o=e.videoWidth;r=e.videoHeight}else typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?(o=e.naturalWidth,r=e.naturalHeight):(o=e.width,r=e.height);r={glName:V.l,width:o,height:r},o=V.g,o.canvas.width=r.width,o.canvas.height=r.height,o.activeTexture(o.TEXTURE0),V.h.bindTexture2d(V.l),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,e),V.h.bindTexture2d(0),V=r;break e;case"detections":for(r=V.m[N.stream],r||(r=new B2(V.h),V.m[N.stream]=r),V=r,V.data||(V.data=new V.g.DetectionListData),V.data.reset(e.length),r=0;r<e.length;++r){o=e[r];var a=V.data,c=a.setBoundingBox,s=r,l=o.T,p=new Fe;e1(p,1,l.Z),e1(p,2,l.$),e1(p,3,l.height),e1(p,4,l.width),e1(p,5,l.rotation),e1(p,6,l.X);var A=l=new Y1;x1(A,1,o1(p,1)),x1(A,2,o1(p,2)),x1(A,3,o1(p,3)),x1(A,4,o1(p,4)),x1(A,5,o1(p,5));var O=o1(p,6);if(O!=null&&O!=null){L1(A.g,48);var F=A.g,L=O;O=0>L,L=Math.abs(L);var P=L>>>0;for(L=Math.floor((L-P)/4294967296),L>>>=0,O&&(L=~L>>>0,P=(~P>>>0)+1,4294967295<P&&(P=0,L++,4294967295<L&&(L=0))),S1=P,F1=L,O=S1,P=F1;0<P||127<O;)F.push(O&127|128),O=(O>>>7|P<<25)>>>0,P>>>=7;F.push(O)}if(Oe(p,A),l=de(l),c.call(a,s,l),o.O)for(a=0;a<o.O.length;++a)p=o.O[a],A=!!p.visibility,c=V.data,s=c.addNormalizedLandmark,l=r,p=Object.assign(Object.assign({},p),{visibility:A?p.visibility:0}),A=new ie,e1(A,1,p.x),e1(A,2,p.y),e1(A,3,p.z),p.visibility&&e1(A,4,p.visibility),F=p=new Y1,x1(F,1,o1(A,1)),x1(F,2,o1(A,2)),x1(F,3,o1(A,3)),x1(F,4,o1(A,4)),x1(F,5,o1(A,5)),Oe(A,F),p=de(p),s.call(c,l,p);if(o.M)for(a=0;a<o.M.length;++a){if(c=V.data,s=c.addClassification,l=r,p=o.M[a],A=new G1,e1(A,2,p.Y),p.index&&e1(A,1,p.index),p.label&&e1(A,3,p.label),p.displayName&&e1(A,4,p.displayName),F=p=new Y1,P=o1(A,1),P!=null&&P!=null)if(L1(F.g,8),O=F.g,0<=P)L1(O,P);else{for(L=0;9>L;L++)O.push(P&127|128),P>>=7;O.push(1)}x1(F,2,o1(A,2)),O=o1(A,3),O!=null&&(O=Le(O),L1(F.g,26),L1(F.g,O.length),k1(F,F.g.end()),k1(F,O)),O=o1(A,4),O!=null&&(O=Le(O),L1(F.g,34),L1(F.g,O.length),k1(F,F.g.end()),k1(F,O)),Oe(A,F),p=de(p),s.call(c,l,p)}}V=V.data;break e;default:V={}}}switch(J=V,n1=N.stream,N.type){case"video":T.pushTexture2d(Object.assign(Object.assign({},J),{stream:n1,timestamp:m}));break;case"detections":q=J,q.stream=n1,q.timestamp=m,T.pushDetectionList(q);break;default:throw Error("Unknown input config type: '"+N.type+"'")}}return h.i.send(T),z(Z,h.C,4);case 4:T.delete(),Z.g=0}})})};function A2(t,n,i){return g1(t,function h(){var m,T,M,S,R,N,J=this,n1,q,Z,V,e,r,o,a;return G(h,function(c){switch(c.g){case 1:if(!i)return c.return(n);for(m={},T=0,M=x(Object.keys(i)),S=M.next();!S.done;S=M.next())R=S.value,N=i[R],typeof N!="string"&&N.type==="texture"&&n[N.stream]!==void 0&&++T;1<T&&(J.G=!1),n1=x(Object.keys(i)),S=n1.next();case 2:if(S.done){c.g=4;break}if(q=S.value,Z=i[q],typeof Z=="string")return o=m,a=q,z(c,_2(J,q,n[Z]),14);if(V=n[Z.stream],Z.type==="detection_list"){if(V){for(var s=V.getRectList(),l=V.getLandmarksList(),p=V.getClassificationsList(),A=[],O=0;O<s.size();++O){var F=s.get(O);e:{var L=new Fe;for(F=new re(F);b1(F);)switch(F.i){case 13:var P=d1(F);e1(L,1,P);break;case 21:P=d1(F),e1(L,2,P);break;case 29:P=d1(F),e1(L,3,P);break;case 37:P=d1(F),e1(L,4,P);break;case 45:P=d1(F),e1(L,5,P);break;case 48:P=le(F.g),e1(L,6,P);break;default:if(!T1(L,F))break e}}L={Z:E1(L,1),$:E1(L,2),height:E1(L,3),width:E1(L,4),rotation:E1(L,5,0),X:D1(L,6,0)},F=Te(y2(l.get(O)),ie).map(We);var U=p.get(O);e:for(P=new Se,U=new re(U);b1(U);)switch(U.i){case 10:P.addClassification(Ee(U,new G1,g2));break;default:if(!T1(P,U))break e}L={T:L,O:F,M:He(P)},A.push(L)}s=A}else s=[];m[q]=s,c.g=7;break}if(Z.type==="proto_list"){if(V){for(s=Array(V.size()),l=0;l<V.size();l++)s[l]=V.get(l);V.delete()}else s=[];m[q]=s,c.g=7;break}if(V===void 0){c.g=3;break}if(Z.type==="float_list"){m[q]=V,c.g=7;break}if(Z.type==="proto"){m[q]=V,c.g=7;break}if(Z.type!=="texture")throw Error("Unknown output config type: '"+Z.type+"'");return e=J.s[q],e||(e=new we(J.h,J.D),J.s[q]=e),z(c,oe(e,V,J.G),13);case 13:r=c.h,m[q]=r;case 7:Z.transform&&m[q]&&(m[q]=Z.transform(m[q])),c.g=3;break;case 14:o[a]=c.h;case 3:S=n1.next(),c.g=2;break;case 4:return c.return(m)}})})}function _2(t,n,i){return g1(t,function h(){var m=this,T;return G(h,function(M){return typeof i=="number"||i instanceof Uint8Array||i instanceof m.h.Uint8BlobList?M.return(i):i instanceof m.h.Texture2dDataOut?(T=m.s[n],T||(T=new we(m.h,m.D),m.s[n]=T),M.return(oe(T,i,m.G))):M.return(void 0)})})}function V2(t,n){for(var i=n.name||"$",h=[].concat(_(n.wants)),m=new t.h.StringList,T=x(n.wants),M=T.next();!M.done;M=T.next())m.push_back(M.value);T=t.h.PacketListener.implement({onResults:function(S){for(var R={},N=0;N<n.wants.length;++N)R[h[N]]=S.get(N);var J=t.listeners[i];J&&(t.C=A2(t,R,n.outs).then(function(n1){n1=J(n1);for(var q=0;q<n.wants.length;++q){var Z=R[h[q]];typeof Z=="object"&&Z.hasOwnProperty&&Z.hasOwnProperty("delete")&&Z.delete()}n1&&(t.C=n1)}))}}),t.i.attachMultiListener(m,T),m.delete()}u.onResults=function(t,n){this.listeners[n||"$"]=t},u1("Solution",J1),u1("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function G2(t){t=w2(t);var n=t.getMesh();if(!n)return t;var i=new Float32Array(n.getVertexBufferList());n.getVertexBufferList=function(){return i};var h=new Uint32Array(n.getIndexBufferList());return n.getIndexBufferList=function(){return h},t}var Ke={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(t){return t.map(G2)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(t){return t.map(function(n){return Te(y2(n),ie).map(We)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},Je=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],$e=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Ze=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Qe=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],qe=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],e2=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],E2=[].concat(_(Je),_($e),_(Ze),_(Qe),_(qe),_(e2));function T2(t){t=t||{},t=Object.assign(Object.assign({},Ke),t),this.g=new J1(t)}u=T2.prototype,u.close=function(){return this.g.close(),Promise.resolve()},u.onResults=function(t){this.g.onResults(t)},u.initialize=function(){return g1(this,function t(){var n=this;return G(t,function(i){return z(i,n.g.initialize(),0)})})},u.reset=function(){this.g.reset()},u.send=function(t){return g1(this,function n(){var i=this;return G(n,function(h){return z(h,i.g.send(t),0)})})},u.setOptions=function(t){this.g.setOptions(t)},u1("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),u1("FaceMesh",T2),u1("FACEMESH_LIPS",Je),u1("FACEMESH_LEFT_EYE",$e),u1("FACEMESH_LEFT_EYEBROW",Ze),u1("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),u1("FACEMESH_RIGHT_EYE",Qe),u1("FACEMESH_RIGHT_EYEBROW",qe),u1("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),u1("FACEMESH_FACE_OVAL",e2),u1("FACEMESH_CONTOURS",E2),u1("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),u1("matrixDataToMatrix",function(t){for(var n=t.getCols(),i=t.getRows(),h=t.getPackedDataList(),m=[],T=0;T<i;T++)m.push(Array(n));for(T=0;T<i;T++)for(var M=0;M<n;M++){var S=t.getLayout()===1?T*n+M:M*i+T;m[T][M]=h[S]}return m}),u1("VERSION","0.4.1633559619")}).call(W2);/**
    * @license
    * Copyright 2022 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var I1=function(){return I1=Object.assign||function(u){for(var v,d=1,g=arguments.length;d<g;d++)for(var f in v=arguments[d])Object.prototype.hasOwnProperty.call(v,f)&&(u[f]=v[f]);return u},I1.apply(this,arguments)};function Z1(u,v,d,g){return new(d||(d=Promise))(function(f,w){function y(E){try{_(g.next(E))}catch(b){w(b)}}function x(E){try{_(g.throw(E))}catch(b){w(b)}}function _(E){var b;E.done?f(E.value):(b=E.value,b instanceof d?b:new d(function(j){j(b)})).then(y,x)}_((g=g.apply(u,v||[])).next())})}function Q1(u,v){var d,g,f,w,y={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return w={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function x(_){return function(E){return function(b){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,g&&(f=2&b[0]?g.return:b[0]?g.throw||((f=g.return)&&f.call(g),0):g.next)&&!(f=f.call(g,b[1])).done)return f;switch(g=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return y.label++,{value:b[1],done:!1};case 5:y.label++,g=b[1],b=[0];continue;case 7:b=y.ops.pop(),y.trys.pop();continue;default:if(f=y.trys,!((f=f.length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){y=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){y.label=b[1];break}if(b[0]===6&&y.label<f[1]){y.label=f[1],f=b;break}if(f&&y.label<f[2]){y.label=f[2],y.ops.push(b);break}f[2]&&y.ops.pop(),y.trys.pop();continue}b=v.call(u,y)}catch(j){b=[6,j],g=0}finally{d=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([_,E])}}}function ue(u){var v=u.map(function(d){return d[0]});return v.push(u[u.length-1][1]),v}var Ht={lips:ue([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:ue([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:ue([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:ue([[474,475],[475,476],[476,477],[477,474]]),rightEye:ue([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:ue([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:ue([[469,470],[470,471],[471,472],[472,469]]),faceOval:ue([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},Wt=Object.entries(Ht).map(function(u){var v=u[0];return u[1].map(function(d){return[d,v]})}).flat(),_t=new Map(Wt);function tt(u){for(var v={locationData:{relativeKeypoints:[]}},d=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,y=0;y<u.length;++y){var x=u[y];d=Math.min(d,x.x),g=Math.max(g,x.x),f=Math.min(f,x.y),w=Math.max(w,x.y),v.locationData.relativeKeypoints.push({x:x.x,y:x.y})}return v.locationData.relativeBoundingBox={xMin:d,yMin:f,xMax:g,yMax:w,width:g-d,height:w-f},v}var X2={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},Xt=function(){function u(v){var d=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new Gt.FaceMesh({locateFile:function(g,f){return v.solutionPath?v.solutionPath.replace(/\/+$/,"")+"/"+g:f+"/"+g}}),this.faceMeshSolution.setOptions({refineLandmarks:v.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:v.maxFaces}),this.faceMeshSolution.onResults(function(g){if(d.height=g.image.height,d.width=g.image.width,d.faces=[],g.multiFaceLandmarks!==null)for(var f=g.multiFaceLandmarks,w=0;w<f.length;w++){var y=d.translateOutput(f[w]);d.faces.push({keypoints:y,box:tt(y).locationData.relativeBoundingBox})}})}return u.prototype.translateOutput=function(v){var d=this;return v.map(function(g,f){var w={x:g.x*d.width,y:g.y*d.height,z:g.z*d.width},y=_t.get(f);return y!=null&&(w.name=y),w})},u.prototype.estimateFaces=function(v,d){return Z1(this,void 0,void 0,function(){var g,f;return Q1(this,function(w){switch(w.label){case 0:return d&&d.flipHorizontal&&d.flipHorizontal!==this.selfieMode&&(this.selfieMode=d.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),v instanceof Re?(f=ImageData.bind,[4,Mt(v)]):[3,2];case 1:return g=new(f.apply(ImageData,[void 0,w.sent(),v.shape[1],v.shape[0]])),[3,3];case 2:g=v,w.label=3;case 3:return v=g,[4,this.faceMeshSolution.send({image:v})];case 4:return w.sent(),[2,this.faces]}})})},u.prototype.dispose=function(){this.faceMeshSolution.close()},u.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},u.prototype.initialize=function(){return this.faceMeshSolution.initialize()},u}();function Yt(u){return Z1(this,void 0,void 0,function(){var v,d;return Q1(this,function(g){switch(g.label){case 0:return v=function(f){if(f==null)return I1({},X2);var w=I1({},f);return w.runtime="mediapipe",w.maxFaces==null&&(w.maxFaces=X2.maxFaces),w.refineLandmarks==null&&(w.refineLandmarks=X2.refineLandmarks),w}(u),[4,(d=new Xt(v)).initialize()];case 1:return g.sent(),[2,d]}})})}var Y2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kt={};(function(){var u;function v(e){var r=0;return function(){return r<e.length?{done:!1,value:e[r++]}:{done:!0}}}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,r,o){return e==Array.prototype||e==Object.prototype||(e[r]=o.value),e},g=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Y2=="object"&&Y2];for(var r=0;r<e.length;++r){var o=e[r];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}(this);function f(e,r){if(r)e:{var o=g;e=e.split(".");for(var a=0;a<e.length-1;a++){var c=e[a];if(!(c in o))break e;o=o[c]}(r=r(a=o[e=e[e.length-1]]))!=a&&r!=null&&d(o,e,{configurable:!0,writable:!0,value:r})}}function w(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function y(e){var r=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:v(e)}}function x(e){if(!(e instanceof Array)){e=y(e);for(var r,o=[];!(r=e.next()).done;)o.push(r.value);e=o}return e}f("Symbol",function(e){function r(c,s){this.g=c,d(this,"description",{configurable:!0,writable:!0,value:s})}if(e)return e;r.prototype.toString=function(){return this.g};var o="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function c(s){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new r(o+(s||"")+"_"+a++,s)}}),f("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<r.length;o++){var a=g[r[o]];typeof a=="function"&&typeof a.prototype[e]!="function"&&d(a.prototype,e,{configurable:!0,writable:!0,value:function(){return w(v(this))}})}return e});var _,E=typeof Object.create=="function"?Object.create:function(e){function r(){}return r.prototype=e,new r};if(typeof Object.setPrototypeOf=="function")_=Object.setPrototypeOf;else{var b;e:{var j={};try{j.__proto__={a:!0},b=j.a;break e}catch{}b=!1}_=b?function(e,r){if(e.__proto__=r,e.__proto__!==r)throw new TypeError(e+" is not extensible");return e}:null}var k=_;function C(e,r){if(e.prototype=E(r.prototype),e.prototype.constructor=e,k)k(e,r);else for(var o in r)if(o!="prototype")if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a)}else e[o]=r[o];e.na=r.prototype}function I(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function D(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function H(e,r){e.j={da:r,ea:!0},e.g=e.o||e.u}function B(e,r,o){return e.g=o,{value:r}}function W(e){this.g=new I,this.h=e}function z(e,r,o,a){try{var c=r.call(e.g.i,o);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return e.g.l=!1,c;var s=c.value}catch(l){return e.g.i=null,H(e.g,l),Y(e)}return e.g.i=null,a.call(e.g,s),Y(e)}function Y(e){for(;e.g.g;)try{var r=e.h(e.g);if(r)return e.g.l=!1,{value:r.value,done:!1}}catch(o){e.g.h=void 0,H(e.g,o)}if(e.g.l=!1,e.g.j){if(r=e.g.j,e.g.j=null,r.ea)throw r.da;return{value:r.return,done:!0}}return{value:void 0,done:!0}}function K(e){this.next=function(r){return D(e.g),e.g.i?r=z(e,e.g.i.next,r,e.g.s):(e.g.s(r),r=Y(e)),r},this.throw=function(r){return D(e.g),e.g.i?r=z(e,e.g.i.throw,r,e.g.s):(H(e.g,r),r=Y(e)),r},this.return=function(r){return function(o,a){D(o.g);var c=o.g.i;return c?z(o,"return"in c?c.return:function(s){return{value:s,done:!0}},a,o.g.return):(o.g.return(a),Y(o))}(e,r)},this[Symbol.iterator]=function(){return this}}function X(e){return function(r){function o(c){return r.next(c)}function a(c){return r.throw(c)}return new Promise(function(c,s){(function l(p){p.done?c(p.value):Promise.resolve(p.value).then(o,a).then(l,s)})(r.next())})}(new K(new W(e)))}I.prototype.s=function(e){this.h=e},I.prototype.return=function(e){this.j={return:e},this.g=this.u},f("Promise",function(e){function r(l){this.h=0,this.i=void 0,this.g=[],this.s=!1;var p=this.j();try{l(p.resolve,p.reject)}catch(A){p.reject(A)}}function o(){this.g=null}function a(l){return l instanceof r?l:new r(function(p){p(l)})}if(e)return e;o.prototype.h=function(l){if(this.g==null){this.g=[];var p=this;this.i(function(){p.l()})}this.g.push(l)};var c=g.setTimeout;o.prototype.i=function(l){c(l,0)},o.prototype.l=function(){for(;this.g&&this.g.length;){var l=this.g;this.g=[];for(var p=0;p<l.length;++p){var A=l[p];l[p]=null;try{A()}catch(O){this.j(O)}}}this.g=null},o.prototype.j=function(l){this.i(function(){throw l})},r.prototype.j=function(){function l(O){return function(F){A||(A=!0,O.call(p,F))}}var p=this,A=!1;return{resolve:l(this.D),reject:l(this.l)}},r.prototype.D=function(l){if(l===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof r)this.H(l);else{e:switch(typeof l){case"object":var p=l!=null;break e;case"function":p=!0;break e;default:p=!1}p?this.A(l):this.o(l)}},r.prototype.A=function(l){var p=void 0;try{p=l.then}catch(A){return void this.l(A)}typeof p=="function"?this.I(p,l):this.o(l)},r.prototype.l=function(l){this.u(2,l)},r.prototype.o=function(l){this.u(1,l)},r.prototype.u=function(l,p){if(this.h!=0)throw Error("Cannot settle("+l+", "+p+"): Promise already settled in state"+this.h);this.h=l,this.i=p,this.h===2&&this.G(),this.B()},r.prototype.G=function(){var l=this;c(function(){if(l.C()){var p=g.console;p!==void 0&&p.error(l.i)}},1)},r.prototype.C=function(){if(this.s)return!1;var l=g.CustomEvent,p=g.Event,A=g.dispatchEvent;return A===void 0||(typeof l=="function"?l=new l("unhandledrejection",{cancelable:!0}):typeof p=="function"?l=new p("unhandledrejection",{cancelable:!0}):(l=g.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,l),l.promise=this,l.reason=this.i,A(l))},r.prototype.B=function(){if(this.g!=null){for(var l=0;l<this.g.length;++l)s.h(this.g[l]);this.g=null}};var s=new o;return r.prototype.H=function(l){var p=this.j();l.M(p.resolve,p.reject)},r.prototype.I=function(l,p){var A=this.j();try{l.call(p,A.resolve,A.reject)}catch(O){A.reject(O)}},r.prototype.then=function(l,p){function A(P,U){return typeof P=="function"?function($){try{O(P($))}catch(Q){F(Q)}}:U}var O,F,L=new r(function(P,U){O=P,F=U});return this.M(A(l,O),A(p,F)),L},r.prototype.catch=function(l){return this.then(void 0,l)},r.prototype.M=function(l,p){function A(){switch(O.h){case 1:l(O.i);break;case 2:p(O.i);break;default:throw Error("Unexpected state: "+O.h)}}var O=this;this.g==null?s.h(A):this.g.push(A),this.s=!0},r.resolve=a,r.reject=function(l){return new r(function(p,A){A(l)})},r.race=function(l){return new r(function(p,A){for(var O=y(l),F=O.next();!F.done;F=O.next())a(F.value).M(p,A)})},r.all=function(l){var p=y(l),A=p.next();return A.done?a([]):new r(function(O,F){function L($){return function(Q){P[$]=Q,--U==0&&O(P)}}var P=[],U=0;do P.push(void 0),U++,a(A.value).M(L(P.length-1),F),A=p.next();while(!A.done)})},r});var a1=typeof Object.assign=="function"?Object.assign:function(e,r){for(var o=1;o<arguments.length;o++){var a=arguments[o];if(a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e};f("Object.assign",function(e){return e||a1}),f("Object.is",function(e){return e||function(r,o){return r===o?r!==0||1/r==1/o:r!=r&&o!=o}}),f("Array.prototype.includes",function(e){return e||function(r,o){var a=this;a instanceof String&&(a=String(a));var c=a.length;for(0>(o=o||0)&&(o=Math.max(o+c,0));o<c;o++){var s=a[o];if(s===r||Object.is(s,r))return!0}return!1}}),f("String.prototype.includes",function(e){return e||function(r,o){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(r,o||0)!==-1}}),f("Array.prototype.keys",function(e){return e||function(){return function(r,o){r instanceof String&&(r+="");var a=0,c=!1,s={next:function(){if(!c&&a<r.length){var l=a++;return{value:o(l,r[l]),done:!1}}return c=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(r){return r})}});var l1=this||self;function G(e,r){e=e.split(".");var o,a=l1;for((e[0]in a)||a.execScript===void 0||a.execScript("var "+e[0]);e.length&&(o=e.shift());)e.length||r===void 0?a=a[o]&&a[o]!==Object.prototype[o]?a[o]:a[o]={}:a[o]=r}function t1(){throw Error("Invalid UTF8")}function U1(e,r){return r=String.fromCharCode.apply(null,r),e==null?r:e+r}var X1,u1,r2=typeof TextDecoder<"u",i2=typeof TextEncoder<"u",o2={},te=null;function a2(e){var r;r===void 0&&(r=0),Pe(),r=o2[r];for(var o=Array(Math.floor(e.length/3)),a=r[64]||"",c=0,s=0;c<e.length-2;c+=3){var l=e[c],p=e[c+1],A=e[c+2],O=r[l>>2];l=r[(3&l)<<4|p>>4],p=r[(15&p)<<2|A>>6],A=r[63&A],o[s++]=O+l+p+A}switch(O=0,A=a,e.length-c){case 2:A=r[(15&(O=e[c+1]))<<2]||a;case 1:e=e[c],o[s]=r[e>>2]+r[(3&e)<<4|O>>4]+A+a}return o.join("")}function Le(e){var r=e.length,o=3*r/4;o%3?o=Math.floor(o):"=.".indexOf(e[r-1])!=-1&&(o="=.".indexOf(e[r-2])!=-1?o-2:o-1);var a=new Uint8Array(o),c=0;return function(s,l){function p(U){for(;A<s.length;){var $=s.charAt(A++),Q=te[$];if(Q!=null)return Q;if(!/^[\s\xa0]*$/.test($))throw Error("Unknown base64 encoding at char: "+$)}return U}Pe();for(var A=0;;){var O=p(-1),F=p(0),L=p(64),P=p(64);if(P===64&&O===-1)break;l(O<<2|F>>4),L!=64&&(l(F<<4&240|L>>2),P!=64&&l(L<<6&192|P))}}(e,function(s){a[c++]=s}),c!==o?a.subarray(0,c):a}function Pe(){if(!te){te={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),r=["+/=","+/","-_=","-_.","-_"],o=0;5>o;o++){var a=e.concat(r[o].split(""));o2[o]=a;for(var c=0;c<a.length;c++){var s=a[c];te[s]===void 0&&(te[s]=c)}}}}var B1,s2=typeof Uint8Array=="function";function Ie(e){return s2&&e!=null&&e instanceof Uint8Array}function u2(e){if(this.L=e,e!==null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")}var c2=typeof Uint8Array.prototype.slice=="function",N1=0;function Ue(e,r){return Error("Invalid wire type: "+e+" (at position "+r+")")}function Ae(){return Error("Failed to read varint, encoding is invalid.")}function S1(e,r){r=(r=r===void 0?{}:r).v!==void 0&&r.v,this.h=null,this.g=this.i=this.j=0,this.v=r,e&&F1(this,e)}function F1(e,r){e.h=function(o,a){if(o.constructor===Uint8Array)return o;if(o.constructor===ArrayBuffer)return new Uint8Array(o);if(o.constructor===Array)return new Uint8Array(o);if(o.constructor===String)return Le(o);if(o.constructor===u2)return!a&&(a=o.L)&&a.constructor===Uint8Array?a:(a=(a=o.L)==null||Ie(a)?a:typeof a=="string"?Le(a):null,(o=o.L=a)?new Uint8Array(o):B1||(B1=new Uint8Array(0)));if(o instanceof Uint8Array)return new Uint8Array(o.buffer,o.byteOffset,o.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(r,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function c1(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function ne(e){var r=e.h,o=r[e.g],a=127&o;if(128>o)return e.g+=1,c1(e),a;if(a|=(127&(o=r[e.g+1]))<<7,128>o)return e.g+=2,c1(e),a;if(a|=(127&(o=r[e.g+2]))<<14,128>o)return e.g+=3,c1(e),a;if(a|=(127&(o=r[e.g+3]))<<21,128>o)return e.g+=4,c1(e),a;if(o=r[e.g+4],e.g+=5,a|=(15&o)<<28,128>o)return c1(e),a;if(128<=r[e.g++]&&128<=r[e.g++]&&128<=r[e.g++]&&128<=r[e.g++]&&128<=r[e.g++])throw Ae();return c1(e),a}S1.prototype.reset=function(){this.g=this.j};var le=[];function _e(){this.g=[]}function j1(e,r){for(;127<r;)e.g.push(127&r|128),r>>>=7;e.g.push(r)}function L1(e){var r={},o=r.W!==void 0&&r.W;this.l={v:r.v!==void 0&&r.v},this.W=o,r=this.l,le.length?(o=le.pop(),r&&(o.v=r.v),e&&F1(o,e),e=o):e=new S1(e,r),this.g=e,this.j=this.g.g,this.h=this.i=-1}function re(e){var r=e.g;if(r.g==r.i)return!1;e.j=e.g.g;var o=ne(e.g)>>>0;if(r=o>>>3,!(0<=(o&=7)&&5>=o))throw Ue(o,e.j);if(1>r)throw Error("Invalid field number: "+r+" (at position "+e.j+")");return e.i=r,e.h=o,!0}function b1(e){switch(e.h){case 0:if(e.h!=0)b1(e);else e:{for(var r=(e=e.g).g,o=r+10;r<o;)if(!(128&e.h[r++])){e.g=r,c1(e);break e}throw Ae()}break;case 1:(e=e.g).g+=8,c1(e);break;case 2:e.h!=2?b1(e):(r=ne(e.g)>>>0,(e=e.g).g+=r,c1(e));break;case 5:(e=e.g).g+=4,c1(e);break;case 3:for(r=e.i;;){if(!re(e))throw Error("Unmatched start-group tag: stream EOF");if(e.h==4){if(e.i!=r)throw Error("Unmatched end-group tag");break}b1(e)}break;default:throw Ue(e.h,e.j)}}_e.prototype.length=function(){return this.g.length},_e.prototype.end=function(){var e=this.g;return this.g=[],e},L1.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var P1=[];function Ee(){this.i=[],this.h=0,this.g=new _e}function d1(e,r){r.length!==0&&(e.i.push(r),e.h+=r.length)}var fe=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Be(e,r){Object.isFrozen(e)||(fe?e[fe]|=r:e.N!==void 0?e.N|=r:Object.defineProperties(e,{N:{value:r,configurable:!0,writable:!0,enumerable:!1}}))}function Ne(e){var r;return(r=fe?e[fe]:e.N)==null?0:r}function Y1(e){return Be(e,1),e}function k1(e){return!!Array.isArray(e)&&!!(2&Ne(e))}function de(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");Be(e,2)}function x1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.constructor===Object}var ge=Object.freeze(Y1([]));function De(e){if(k1(e.m))throw Error("Cannot mutate an immutable Message")}var ze,h2=typeof Symbol<"u"&&Symbol.hasInstance!==void 0;function l2(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function p1(e,r,o){return r===-1?null:r>=e.i?e.g?e.g[r]:void 0:o!==void 0&&o&&e.g&&(o=e.g[r])!=null?o:e.m[r+e.h]}function h1(e,r,o,a){a=a!==void 0&&a,De(e),r<e.i&&!a?e.m[r+e.h]=o:(e.g||(e.g=e.m[e.i+e.h]={}))[r]=o}function f1(e,r,o,a){o=o===void 0||o;var c=p1(e,r,a=a!==void 0&&a);return c==null&&(c=ge),k1(e.m)?o&&(de(c),Object.freeze(c)):(c===ge||k1(c))&&h1(e,r,c=Y1(c.slice()),a),c}function m1(e,r,o){return(e=(e=p1(e,r))==null?e:+e)==null?o===void 0?0:o:e}function pe(e,r,o,a){e.j||(e.j={});var c=k1(e.m),s=e.j[o];if(!s){a=f1(e,o,!0,a!==void 0&&a),s=[],c=c||k1(a);for(var l=0;l<a.length;l++)s[l]=new r(a[l]),c&&de(s[l].m);c&&(de(s),Object.freeze(s)),e.j[o]=s}return s}function o1(e,r,o,a,c){var s=s!==void 0&&s;return De(e),s=pe(e,o,r,s),o=a||new o,e=f1(e,r),c!=null?(s.splice(c,0,o),e.splice(c,0,o.m)):(s.push(o),e.push(o.m)),o}function ve(e,r){return(e=p1(e,r))==null?0:e}function Ve(e,r){return(e=p1(e,r))==null?"":e}function D1(e){var r=f2;return e1(e,r=r===void 0?Te:r)}function E1(e,r){if(e!=null){if(Array.isArray(e))e=e1(e,r);else if(x1(e)){var o,a={};for(o in e)a[o]=E1(e[o],r);e=a}else e=r(e);return e}}function e1(e,r){for(var o=e.slice(),a=0;a<o.length;a++)o[a]=E1(o[a],r);return Array.isArray(e)&&1&Ne(e)&&Y1(o),o}function f2(e){return e&&typeof e=="object"&&e.toJSON?e.toJSON():(e=function(r){switch(typeof r){case"number":return isFinite(r)?r:String(r);case"object":if(r&&!Array.isArray(r)){if(Ie(r))return a2(r);if(r instanceof u2){var o=r.L;return o=o==null||typeof o=="string"?o:s2&&o instanceof Uint8Array?a2(o):null,(r.L=o)||""}}}return r}(e),Array.isArray(e)?D1(e):e)}function Te(e){return Ie(e)?new Uint8Array(e):e}function ye(e,r,o){e||(e=ze),ze=null;var a=this.constructor.h;if(e||(e=a?[a]:[]),this.h=(a?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(a=this.m.length)-1,a&&x1(a=this.m[e])?(this.i=e-this.h,this.g=a):r!==void 0&&-1<r?(this.i=Math.max(r,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,o)for(r=0;r<o.length;r++)if((e=o[r])<this.i)e+=this.h,(a=this.m[e])?Array.isArray(a)&&Y1(a):this.m[e]=ge;else{var c=(a=this.g||(this.g=this.m[this.i+this.h]={}))[e];c?Array.isArray(c)&&Y1(c):a[e]=ge}}function me(){ye.apply(this,arguments)}if(ye.prototype.toJSON=function(){return D1(this.m)},ye.prototype.toString=function(){return this.m.toString()},C(me,ye),h2){var z1={};Object.defineProperties(me,(z1[Symbol.hasInstance]=l2(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),z1))}function Oe(e,r,o){if(o){var a,c={};for(a in o){var s=o[a],l=s.ha;l||(c.F=s.la||s.fa.P,s.aa?(c.U=g2(s.aa),l=function(p){return function(A,O,F){return p.F(A,O,F,p.U)}}(c)):s.ca?(c.T=Se(s.X.g,s.ca),l=function(p){return function(A,O,F){return p.F(A,O,F,p.T)}}(c)):l=c.F,s.ha=l),l(r,e,s.X),c={F:c.F,U:c.U,T:c.T}}}(function(p,A){if(A=A.ba){d1(p,p.g.end());for(var O=0;O<A.length;O++)d1(p,A[O])}})(r,e)}var T1=Symbol();function V1(e,r,o){return e[T1]||(e[T1]=function(a,c){return r(a,c,o)})}function d2(e){var r=e[T1];if(!r){var o=w2(e);r=function(a,c){return Ge(a,c,o)},e[T1]=r}return r}function L2(e){var r=function(c){var s=c.aa;return s?d2(s):(s=c.ka)?V1(c.X.g,s,c.ca):void 0}(e),o=e.X,a=e.fa.O;return r?function(c,s){return a(c,s,o,r)}:function(c,s){return a(c,s,o)}}function g1(e,r,o,a,c,s){var l=0;for((e=e()).length&&typeof e[0]!="number"&&(o(r,e[0]),l++);l<e.length;){o=e[l++];for(var p=l+1;p<e.length&&typeof e[p]!="number";)p++;var A=e[l++];switch(p-=l){case 0:a(r,o,A);break;case 1:a(r,o,A,e[l++]);break;case 2:c(r,o,A,e[l++],e[l++]);break;case 3:p=e[l++];var O=e[l++],F=e[l++];Array.isArray(F)?c(r,o,A,p,O,F):s(r,o,A,p,O,F);break;case 4:s(r,o,A,e[l++],e[l++],e[l++],e[l++]);break;default:throw Error("unexpected number of binary field arguments: "+p)}}return r}var G1=Symbol();function g2(e){var r=e[G1];if(!r){var o=m2(e);r=function(a,c){return We(a,c,o)},e[G1]=r}return r}function Se(e,r){var o=e[G1];return o||(o=function(a,c){return Oe(a,c,r)},e[G1]=o),o}var p2=Symbol();function ie(e,r){e.push(r)}function P2(e,r,o){e.push(r,o.P)}function v2(e,r,o,a,c){var s=g2(c),l=o.P;e.push(r,function(p,A,O){return l(p,A,O,a,s)})}function y2(e,r,o,a,c,s){var l=Se(a,s),p=o.P;e.push(r,function(A,O,F){return p(A,O,F,a,l)})}function m2(e){var r=e[p2];return r||g1(e,e[p2]=[],ie,P2,v2,y2)}var Fe=Symbol();function K1(e,r){e[0]=r}function I2(e,r,o,a){var c=o.O;e[r]=a?function(s,l,p){return c(s,l,p,a)}:c}function U2(e,r,o,a,c,s){var l=o.O,p=d2(c);e[r]=function(A,O,F){return l(A,O,F,a,p,s)}}function je(e,r,o,a,c,s,l){var p=o.O,A=V1(a,c,s);e[r]=function(O,F,L){return p(O,F,L,a,A,l)}}function w2(e){var r=e[Fe];return r||g1(e,e[Fe]={},K1,I2,U2,je)}function Ge(e,r,o){for(;re(r)&&r.h!=4;){var a=r.i,c=o[a];if(!c){var s=o[0];s&&(s=s[a])&&(c=o[a]=L2(s))}if(!(c&&c(r,e,a)||(c=r,a=e,s=c.j,b1(c),c.W))){var l=c.g.h;c=s===(c=c.g.g)?B1||(B1=new Uint8Array(0)):c2?l.slice(s,c):new Uint8Array(l.subarray(s,c)),(s=a.ba)?s.push(c):a.ba=[c]}}return e}function He(e,r,o){if(P1.length){var a=P1.pop();e&&(F1(a.g,e),a.i=-1,a.h=-1),e=a}else e=new L1(e);try{return Ge(new r,e,w2(o))}finally{(r=e.g).h=null,r.j=0,r.i=0,r.g=0,r.v=!1,e.i=-1,e.h=-1,100>P1.length&&P1.push(e)}}function We(e,r,o){for(var a=o.length,c=a%2==1,s=c?1:0;s<a;s+=2)(0,o[s+1])(r,e,o[s]);Oe(e,r,c?o[0]:void 0)}function we(e,r){var o=new Ee;We(e,o,m2(r)),d1(o,o.g.end()),e=new Uint8Array(o.h);for(var a=(r=o.i).length,c=0,s=0;s<a;s++){var l=r[s];e.set(l,c),c+=l.length}return o.i=[e],e}function oe(e,r){return{O:e,P:r}}var O1=oe(function(e,r,o){if(e.h!==5)return!1;var a=(e=e.g).h[e.g],c=e.h[e.g+1],s=e.h[e.g+2],l=e.h[e.g+3];return e.g+=4,c1(e),e=2*((c=(a<<0|c<<8|s<<16|l<<24)>>>0)>>31)+1,a=c>>>23&255,c&=8388607,h1(r,o,a==255?c?NaN:1/0*e:a==0?e*Math.pow(2,-149)*c:e*Math.pow(2,a-150)*(c+Math.pow(2,23))),!0},function(e,r,o){if((r=p1(r,o))!=null){j1(e.g,8*o+5),e=e.g;var a=r;(a=(o=0>a?1:0)?-a:a)===0?0<1/a?N1=0:N1=2147483648:isNaN(a)?N1=2147483647:34028234663852886e22<a?N1=(o<<31|2139095040)>>>0:11754943508222875e-54>a?(a=Math.round(a/Math.pow(2,-149)),N1=(o<<31|a)>>>0):(r=Math.floor(Math.log(a)/Math.LN2),a*=Math.pow(2,-r),16777216<=(a=Math.round(8388608*a))&&++r,N1=(o<<31|r+127<<23|8388607&a)>>>0),o=N1,e.g.push(o>>>0&255),e.g.push(o>>>8&255),e.g.push(o>>>16&255),e.g.push(o>>>24&255)}}),B2=oe(function(e,r,o){if(e.h!==0)return!1;for(var a=e.g,c=128,s=0,l=e=0;4>l&&128<=c;l++)c=a.h[a.g++],c1(a),s|=(127&c)<<7*l;if(128<=c&&(c=a.h[a.g++],c1(a),s|=(127&c)<<28,e|=(127&c)>>4),128<=c)for(l=0;5>l&&128<=c;l++)c=a.h[a.g++],c1(a),e|=(127&c)<<7*l+3;if(!(128>c))throw Ae();return a=s>>>0,(e=2147483648&(c=e>>>0))&&(c=~c>>>0,(a=1+~a>>>0)==0&&(c=c+1>>>0)),a=4294967296*c+(a>>>0),h1(r,o,e?-a:a),!0},function(e,r,o){if((r=p1(r,o))!=null&&r!=null){j1(e.g,8*o),e=e.g;var a=r;for(o=0>a,r=(a=Math.abs(a))>>>0,a=Math.floor((a-r)/4294967296),a>>>=0,o&&(a=~a>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++a&&(a=0))),o=N1=r,r=a;0<r||127<o;)e.g.push(127&o|128),o=(o>>>7|r<<25)>>>0,r>>>=7;e.g.push(o)}}),N2=oe(function(e,r,o){return e.h===0&&(h1(r,o,ne(e.g)),!0)},function(e,r,o){if((r=p1(r,o))!=null&&r!=null)if(j1(e.g,8*o),e=e.g,0<=(o=r))j1(e,o);else{for(r=0;9>r;r++)e.g.push(127&o|128),o>>=7;e.g.push(1)}}),b2=oe(function(e,r,o){if(e.h!==2)return!1;var a,c=ne(e.g)>>>0,s=(e=e.g).g;if(e.g+=c,c1(e),e=e.h,r2)(a=X1)||(a=X1=new TextDecoder("utf-8",{fatal:!0})),a=a.decode(e.subarray(s,s+c));else{c=s+c;for(var l,p,A,O=[],F=null;s<c;)128>(l=e[s++])?O.push(l):224>l?s>=c?t1():(p=e[s++],194>l||(192&p)!=128?(s--,t1()):O.push((31&l)<<6|63&p)):240>l?s>=c-1?t1():(192&(p=e[s++]))!=128||l===224&&160>p||l===237&&160<=p||(192&(a=e[s++]))!=128?(s--,t1()):O.push((15&l)<<12|(63&p)<<6|63&a):244>=l?s>=c-2?t1():(192&(p=e[s++]))!=128||p-144+(l<<28)>>30||(192&(a=e[s++]))!=128||(192&(A=e[s++]))!=128?(s--,t1()):(l=(7&l)<<18|(63&p)<<12|(63&a)<<6|63&A,l-=65536,O.push(55296+(l>>10&1023),56320+(1023&l))):t1(),8192<=O.length&&(F=U1(F,O),O.length=0);a=U1(F,O)}return h1(r,o,a),!0},function(e,r,o){if((r=p1(r,o))!=null){var a=!1;if(a=a!==void 0&&a,i2){if(a&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(r))throw Error("Found an unpaired surrogate");r=(u1||(u1=new TextEncoder)).encode(r)}else{for(var c=0,s=new Uint8Array(3*r.length),l=0;l<r.length;l++){var p=r.charCodeAt(l);if(128>p)s[c++]=p;else{if(2048>p)s[c++]=p>>6|192;else{if(55296<=p&&57343>=p){if(56319>=p&&l<r.length){var A=r.charCodeAt(++l);if(56320<=A&&57343>=A){p=1024*(p-55296)+A-56320+65536,s[c++]=p>>18|240,s[c++]=p>>12&63|128,s[c++]=p>>6&63|128,s[c++]=63&p|128;continue}l--}if(a)throw Error("Found an unpaired surrogate");p=65533}s[c++]=p>>12|224,s[c++]=p>>6&63|128}s[c++]=63&p|128}}r=s.subarray(0,c)}j1(e.g,8*o+2),j1(e.g,r.length),d1(e,e.g.end()),d1(e,r)}}),Xe=oe(function(e,r,o,a,c){if(e.h!==2)return!1;r=o1(r,o,a),o=e.g.i,a=ne(e.g)>>>0;var s=e.g.g+a,l=s-o;if(0>=l&&(e.g.i=s,c(r,e),l=s-e.g.g),l)throw Error("Message parsing ended unexpectedly. Expected to read "+a+" bytes, instead read "+(a-l)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=s,e.g.i=o,!0},function(e,r,o,a,c){if((r=pe(r,a,o))!=null)for(a=0;a<r.length;a++){var s=e;j1(s.g,8*o+2);var l=s.g.end();d1(s,l),l.push(s.h),s=l,c(r[a],e),l=e;var p=s.pop();for(p=l.h+l.g.length()-p;127<p;)s.push(127&p|128),p>>>=7,l.h++;s.push(p),l.h++}});function M1(){me.apply(this,arguments)}if(C(M1,me),h2){var x2={};Object.defineProperties(M1,(x2[Symbol.hasInstance]=l2(Object[Symbol.hasInstance]),x2))}function J1(e){M1.call(this,e)}function M2(){return[1,N2,2,O1,3,b2,4,b2]}function Ye(e){M1.call(this,e,-1,z2)}function D2(){return[1,Xe,J1,M2]}C(J1,M1),C(Ye,M1),Ye.prototype.addClassification=function(e,r){return o1(this,1,J1,e,r),this};var z2=[1];function ae(e){M1.call(this,e)}function A2(){return[1,O1,2,O1,3,O1,4,O1,5,O1]}function _2(e){M1.call(this,e,-1,G2)}function V2(){return[1,Xe,ae,A2]}C(ae,M1),C(_2,M1);var G2=[1];function Ke(e){M1.call(this,e)}function Je(){return[1,O1,2,O1,3,O1,4,O1,5,O1,6,B2]}C(Ke,M1);var $e=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Ze=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Qe=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],qe=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],e2=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],E2=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],T2=[].concat(x($e),x(Ze),x(Qe),x(qe),x(e2),x(E2));function t(e,r,o){if(o=e.createShader(o===0?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+e.getShaderInfoLog(o));return o}function n(e){return pe(e,J1,1).map(function(r){return{index:ve(r,1),ga:m1(r,2),label:p1(r,3)!=null?Ve(r,3):void 0,displayName:p1(r,4)!=null?Ve(r,4):void 0}})}function i(e){return{x:m1(e,1),y:m1(e,2),z:m1(e,3),visibility:p1(e,4)!=null?m1(e,4):void 0}}function h(e,r){this.h=e,this.g=r,this.l=0}function m(e,r,o){return function(a,c){var s=a.g;if(a.o===void 0){var l=t(s,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),p=t(s,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),A=s.createProgram();if(s.attachShader(A,l),s.attachShader(A,p),s.linkProgram(A),!s.getProgramParameter(A,s.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+s.getProgramInfoLog(A));l=a.o=A,s.useProgram(l),p=s.getUniformLocation(l,"sampler0"),a.j={K:s.getAttribLocation(l,"aVertex"),J:s.getAttribLocation(l,"aTex"),ma:p},a.u=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,a.u),s.enableVertexAttribArray(a.j.K),s.vertexAttribPointer(a.j.K,2,s.FLOAT,!1,0,0),s.bufferData(s.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),s.STATIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null),a.s=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,a.s),s.enableVertexAttribArray(a.j.J),s.vertexAttribPointer(a.j.J,2,s.FLOAT,!1,0,0),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),s.STATIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null),s.uniform1i(p,0)}l=a.j,s.useProgram(a.o),s.canvas.width=c.width,s.canvas.height=c.height,s.viewport(0,0,c.width,c.height),s.activeTexture(s.TEXTURE0),a.h.bindTexture2d(c.glName),s.enableVertexAttribArray(l.K),s.bindBuffer(s.ARRAY_BUFFER,a.u),s.vertexAttribPointer(l.K,2,s.FLOAT,!1,0,0),s.enableVertexAttribArray(l.J),s.bindBuffer(s.ARRAY_BUFFER,a.s),s.vertexAttribPointer(l.J,2,s.FLOAT,!1,0,0),s.bindFramebuffer(s.DRAW_FRAMEBUFFER?s.DRAW_FRAMEBUFFER:s.FRAMEBUFFER,null),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.colorMask(!0,!0,!0,!0),s.drawArrays(s.TRIANGLE_FAN,0,4),s.disableVertexAttribArray(l.K),s.disableVertexAttribArray(l.J),s.bindBuffer(s.ARRAY_BUFFER,null),a.h.bindTexture2d(0)}(e,r),typeof e.g.canvas.transferToImageBitmap=="function"?Promise.resolve(e.g.canvas.transferToImageBitmap()):o?Promise.resolve(e.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(e.g.canvas):(e.i===void 0&&(e.i=document.createElement("canvas")),new Promise(function(a){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),a(e.i)}))}function T(e){this.g=e}var M=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function S(e,r){return r+e}function R(e,r){window[e]=r}function N(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||S,typeof window=="object")var r=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");r=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=r,e.options)for(var o=(r=y(Object.keys(e.options))).next();!o.done;o=r.next()){o=o.value;var a=e.options[o].default;a!==void 0&&(this.j[o]=typeof a=="function"?a():a)}}function J(e){var r,o,a,c,s,l,p,A,O,F,L;return X(function(P){switch(P.g){case 1:return e.Z?(r=e.g.files===void 0?[]:typeof e.g.files=="function"?e.g.files(e.j):e.g.files,B(P,X(function(U){switch(U.g){case 1:return U.o=2,B(U,WebAssembly.instantiate(M),4);case 4:U.g=3,U.o=0;break;case 2:return U.o=0,U.j=null,U.return(!1);case 3:return U.return(!0)}}),2)):P.return();case 2:if(o=P.h,typeof window=="object")return R("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),R("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),l=r.filter(function(U){return U.data!==void 0}),p=r.filter(function(U){return U.data===void 0}),A=Promise.all(l.map(function(U){var $=n1(e,U.url);if(U.path!==void 0){var Q=U.path;$=$.then(function(i1){return e.overrideFile(Q,i1),Promise.resolve(i1)})}return $})),O=Promise.all(p.map(function(U){return U.simd===void 0||U.simd&&o||!U.simd&&!o?function($){var Q=document.createElement("script");return Q.setAttribute("src",$),Q.setAttribute("crossorigin","anonymous"),new Promise(function(i1){Q.addEventListener("load",function(){i1()},!1),Q.addEventListener("error",function(){i1()},!1),document.body.appendChild(Q)})}(e.locateFile(U.url,e.$)):Promise.resolve()})).then(function(){var U,$,Q;return X(function(i1){if(i1.g==1)return U=window.createMediapipeSolutionsWasm,$=window.createMediapipeSolutionsPackedAssets,Q=e,B(i1,U($),2);Q.h=i1.h,i1.g=0})}),F=X(function(U){return e.g.graph&&e.g.graph.url?U=B(U,n1(e,e.g.graph.url),0):(U.g=0,U=void 0),U}),B(P,Promise.all([O,A,F]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return a=r.filter(function(U){return U.simd===void 0||U.simd&&o||!U.simd&&!o}).map(function(U){return e.locateFile(U.url,e.$)}),importScripts.apply(null,x(a)),c=e,B(P,createMediapipeSolutionsWasm(Module),6);case 6:c.h=P.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,s=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),e.h.GL.makeContextCurrent(s),P.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(L=e.l.getContext("webgl2",{}))&&!(L=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),P.return();e.G=L,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,P.g=0}})}function n1(e,r){var o,a;return X(function(c){return r in e.H?c.return(e.H[r]):(o=e.locateFile(r,""),a=fetch(o).then(function(s){return s.arrayBuffer()}),e.H[r]=a,c.return(a))})}function q(e,r,o){var a,c,s,l,p,A,O,F,L,P,U,$,Q,i1;return X(function(s1){switch(s1.g){case 1:if(!o)return s1.return(r);for(a={},c=0,s=y(Object.keys(o)),l=s.next();!l.done;l=s.next())p=l.value,typeof(A=o[p])!="string"&&A.type==="texture"&&r[A.stream]!==void 0&&++c;1<c&&(e.I=!1),O=y(Object.keys(o)),l=O.next();case 2:if(l.done){s1.g=4;break}if(F=l.value,typeof(L=o[F])=="string")return Q=a,i1=F,B(s1,function(be,rt,ke){var O2;return X(function(H2){return typeof ke=="number"||ke instanceof Uint8Array||ke instanceof be.h.Uint8BlobList?H2.return(ke):ke instanceof be.h.Texture2dDataOut?((O2=be.u[rt])||(O2=new h(be.h,be.G),be.u[rt]=O2),H2.return(m(O2,ke,be.I))):H2.return(void 0)})}(e,F,r[L]),14);if(P=r[L.stream],L.type==="detection_list"){if(P){for(var w1=P.getRectList(),C1=P.getLandmarksList(),A1=P.getClassificationsList(),r1=[],v1=0;v1<w1.size();++v1){var se=He(w1.get(v1),Ke,Je);se={boundingBox:{xCenter:m1(se,1),yCenter:m1(se,2),height:m1(se,3),width:m1(se,4),rotation:m1(se,5,0),rectId:ve(se,6)},landmarks:pe(He(C1.get(v1),_2,V2),ae,1).map(i),V:n(He(A1.get(v1),Ye,D2))},r1.push(se)}w1=r1}else w1=[];a[F]=w1,s1.g=7;break}if(L.type==="proto_list"){if(P){for(w1=Array(P.size()),C1=0;C1<P.size();C1++)w1[C1]=P.get(C1);P.delete()}else w1=[];a[F]=w1,s1.g=7;break}if(P===void 0){s1.g=3;break}if(L.type==="float_list"){a[F]=P,s1.g=7;break}if(L.type==="proto"){a[F]=P,s1.g=7;break}if(L.type!=="texture")throw Error("Unknown output config type: '"+L.type+"'");return(U=e.u[F])||(U=new h(e.h,e.G),e.u[F]=U),B(s1,m(U,P,e.I),13);case 13:$=s1.h,a[F]=$;case 7:L.transform&&a[F]&&(a[F]=L.transform(a[F])),s1.g=3;break;case 14:Q[i1]=s1.h;case 3:l=O.next(),s1.g=2;break;case 4:return s1.return(a)}})}function Z(e,r){for(var o=r.name||"$",a=[].concat(x(r.wants)),c=new e.h.StringList,s=y(r.wants),l=s.next();!l.done;l=s.next())c.push_back(l.value);s=e.h.PacketListener.implement({onResults:function(p){for(var A={},O=0;O<r.wants.length;++O)A[a[O]]=p.get(O);var F=e.listeners[o];F&&(e.D=q(e,A,r.outs).then(function(L){L=F(L);for(var P=0;P<r.wants.length;++P){var U=A[a[P]];typeof U=="object"&&U.hasOwnProperty&&U.hasOwnProperty("delete")&&U.delete()}L&&(e.D=L)}))}}),e.i.attachMultiListener(c,s),c.delete()}function V(e){var r=this;e=e||{};var o={url:"face_detection_short.binarypb"},a={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new N({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:o,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window=="object"&&window.navigator!==void 0&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(c){var s,l,p,A,O;return X(function(F){switch(F.g){case 1:s=y(c==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),l=s.next();case 2:if(l.done){F.g=4;break}return p=l.value,A="third_party/mediapipe/modules/face_detection/"+p,B(F,n1(r.g,p),5);case 5:O=F.h,r.g.overrideFile(A,O),l=s.next(),F.g=2;break;case 4:return o.url=c==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",a.graphOptionXref.calculatorName=c==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",F.return(!0)}})}},minDetectionConfidence:a}})}(u=N.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},u.reset=function(){var e=this;return X(function(r){e.i&&(e.i.reset(),e.o={},e.u={}),r.g=0})},u.setOptions=function(e,r){var o=this;if(r=r||this.g.options){for(var a=[],c=[],s={},l=y(Object.keys(e)),p=l.next();!p.done;s={R:s.R,S:s.S},p=l.next()){var A=p.value;A in this.j&&this.j[A]===e[A]||(this.j[A]=e[A],(p=r[A])!==void 0&&(p.onChange&&(s.R=p.onChange,s.S=e[A],a.push(function(O){return function(){return X(function(F){if(F.g==1)return B(F,O.R(O.S),2);F.h===!0&&(o.s=!0),F.g=0})}}(s))),p.graphOptionXref&&(A={valueNumber:p.type===1?e[A]:0,valueBoolean:p.type===0&&e[A],valueString:p.type===2?e[A]:""},p=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),p.graphOptionXref),A),c.push(p))))}a.length===0&&c.length===0||(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(c),this.A=(this.A===void 0?[]:this.A).concat(a))}},u.initialize=function(){var e=this;return X(function(r){return r.g==1?B(r,J(e),2):r.g!=3?B(r,function(o){var a,c,s,l,p,A,O,F;return X(function(L){if(L.g==1)return o.g.graph&&o.g.graph.url&&o.Y===o.g.graph.url?L.return():(o.s=!0,o.g.graph&&o.g.graph.url?(o.Y=o.g.graph.url,B(L,n1(o,o.g.graph.url),3)):void(L.g=2));for(L.g!=2&&(a=L.h,o.i.loadGraph(a)),c=y(Object.keys(o.C)),s=c.next();!s.done;s=c.next())l=s.value,o.i.overrideFile(l,o.C[l]);if(o.C={},o.g.listeners)for(p=y(o.g.listeners),A=p.next();!A.done;A=p.next())O=A.value,Z(o,O);F=o.j,o.j={},o.setOptions(F),L.g=0})}(e),3):B(r,function(o){var a,c,s,l,p,A;return X(function(O){switch(O.g){case 1:if(!o.s)return O.return();if(!o.A){O.g=2;break}a=y(o.A),c=a.next();case 3:if(c.done){O.g=5;break}return B(O,(0,c.value)(),4);case 4:c=a.next(),O.g=3;break;case 5:o.A=void 0;case 2:if(o.B){for(s=new o.h.GraphOptionChangeRequestList,l=y(o.B),p=l.next();!p.done;p=l.next())A=p.value,s.push_back(A);o.i.changeOptions(s),s.delete(),o.B=void 0}o.s=!1,O.g=0}})}(e),0)})},u.overrideFile=function(e,r){this.i?this.i.overrideFile(e,r):this.C[e]=r},u.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},u.send=function(e,r){var o,a,c,s,l,p,A,O,F,L=this;return X(function(P){switch(P.g){case 1:return L.g.inputs?(o=1e3*(r??performance.now()),B(P,L.D,2)):P.return();case 2:return B(P,L.initialize(),3);case 3:for(a=new L.h.PacketDataList,c=y(Object.keys(e)),s=c.next();!s.done;s=c.next())if(l=s.value,p=L.g.inputs[l]){e:{var U=e[l];switch(p.type){case"video":var $=L.o[p.stream];if($||($=new h(L.h,L.G),L.o[p.stream]=$),$.l===0&&($.l=$.h.createTexture()),typeof HTMLVideoElement<"u"&&U instanceof HTMLVideoElement)var Q=U.videoWidth,i1=U.videoHeight;else typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(Q=U.naturalWidth,i1=U.naturalHeight):(Q=U.width,i1=U.height);i1={glName:$.l,width:Q,height:i1},(Q=$.g).canvas.width=i1.width,Q.canvas.height=i1.height,Q.activeTexture(Q.TEXTURE0),$.h.bindTexture2d($.l),Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,Q.RGBA,Q.UNSIGNED_BYTE,U),$.h.bindTexture2d(0),$=i1;break e;case"detections":for(($=L.o[p.stream])||($=new T(L.h),L.o[p.stream]=$),$.data||($.data=new $.g.DetectionListData),$.data.reset(U.length),i1=0;i1<U.length;++i1){Q=U[i1];var s1=$.data,w1=s1.setBoundingBox,C1=i1,A1=Q.boundingBox,r1=new Ke;if(h1(r1,1,A1.xCenter),h1(r1,2,A1.yCenter),h1(r1,3,A1.height),h1(r1,4,A1.width),h1(r1,5,A1.rotation),h1(r1,6,A1.rectId),A1=we(r1,Je),w1.call(s1,C1,A1),Q.landmarks)for(s1=0;s1<Q.landmarks.length;++s1){var v1=!!(r1=Q.landmarks[s1]).visibility;C1=(w1=$.data).addNormalizedLandmark,A1=i1,r1=Object.assign(Object.assign({},r1),{visibility:v1?r1.visibility:0}),h1(v1=new ae,1,r1.x),h1(v1,2,r1.y),h1(v1,3,r1.z),r1.visibility&&h1(v1,4,r1.visibility),r1=we(v1,A2),C1.call(w1,A1,r1)}if(Q.V)for(s1=0;s1<Q.V.length;++s1)C1=(w1=$.data).addClassification,A1=i1,r1=Q.V[s1],h1(v1=new J1,2,r1.ga),r1.index&&h1(v1,1,r1.index),r1.label&&h1(v1,3,r1.label),r1.displayName&&h1(v1,4,r1.displayName),r1=we(v1,M2),C1.call(w1,A1,r1)}$=$.data;break e;default:$={}}}switch(A=$,O=p.stream,p.type){case"video":a.pushTexture2d(Object.assign(Object.assign({},A),{stream:O,timestamp:o}));break;case"detections":(F=A).stream=O,F.timestamp=o,a.pushDetectionList(F);break;default:throw Error("Unknown input config type: '"+p.type+"'")}}return L.i.send(a),B(P,L.D,4);case 4:a.delete(),P.g=0}})},u.onResults=function(e,r){this.listeners[r||"$"]=e},G("Solution",N),G("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(u=V.prototype).close=function(){return this.g.close(),Promise.resolve()},u.onResults=function(e){this.g.onResults(e)},u.initialize=function(){var e=this;return X(function(r){return B(r,e.g.initialize(),0)})},u.reset=function(){this.g.reset()},u.send=function(e){var r=this;return X(function(o){return B(o,r.g.send(e),0)})},u.setOptions=function(e){this.g.setOptions(e)},G("FaceDetection",V),G("FACEDETECTION_LIPS",$e),G("FACEDETECTION_LEFT_EYE",Ze),G("FACEDETECTION_LEFT_EYEBROW",Qe),G("FACEDETECTION_RIGHT_EYE",qe),G("FACEDETECTION_RIGHT_EYEBROW",e2),G("FACEDETECTION_FACE_OVAL",E2),G("FACEDETECTION_CONTOURS",T2),G("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),G("VERSION","0.4.1646425229")}).call(Y2);var he=function(){return he=Object.assign||function(u){for(var v,d=1,g=arguments.length;d<g;d++)for(var f in v=arguments[d])Object.prototype.hasOwnProperty.call(v,f)&&(u[f]=v[f]);return u},he.apply(this,arguments)};function q1(u,v,d,g){return new(d||(d=Promise))(function(f,w){function y(E){try{_(g.next(E))}catch(b){w(b)}}function x(E){try{_(g.throw(E))}catch(b){w(b)}}function _(E){var b;E.done?f(E.value):(b=E.value,b instanceof d?b:new d(function(j){j(b)})).then(y,x)}_((g=g.apply(u,v||[])).next())})}function ee(u,v){var d,g,f,w,y={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return w={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function x(_){return function(E){return function(b){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,g&&(f=2&b[0]?g.return:b[0]?g.throw||((f=g.return)&&f.call(g),0):g.next)&&!(f=f.call(g,b[1])).done)return f;switch(g=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return y.label++,{value:b[1],done:!1};case 5:y.label++,g=b[1],b=[0];continue;case 7:b=y.ops.pop(),y.trys.pop();continue;default:if(!((f=(f=y.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){y=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){y.label=b[1];break}if(b[0]===6&&y.label<f[1]){y.label=f[1],f=b;break}if(f&&y.label<f[2]){y.label=f[2],y.ops.push(b);break}f[2]&&y.ops.pop(),y.trys.pop();continue}b=v.call(u,y)}catch(j){b=[6,j],g=0}finally{d=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([_,E])}}}var Et=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],K2={modelType:"short",runtime:"mediapipe",maxFaces:1},Jt=function(){function u(v){var d=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new Kt.FaceDetection({locateFile:function(g,f){return v.solutionPath?v.solutionPath.replace(/\/+$/,"")+"/"+g:f+"/"+g}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:v.modelType}),this.faceDetectorSolution.onResults(function(g){if(d.height=g.image.height,d.width=g.image.width,d.faces=[],g.detections!==null)for(var f=0,w=g.detections;f<w.length;f++){var y=w[f];d.faces.push(d.normalizedToAbsolute(y.landmarks,{xMin:_=(x=y.boundingBox).xCenter-x.width/2,xMax:_+x.width,yMin:E=x.yCenter-x.height/2,yMax:E+x.height,width:x.width,height:x.height}))}var x,_,E})}return u.prototype.normalizedToAbsolute=function(v,d){var g=this;return{keypoints:v.map(function(f,w){return{x:f.x*g.width,y:f.y*g.height,name:Et[w]}}),box:{xMin:d.xMin*this.width,yMin:d.yMin*this.height,xMax:d.xMax*this.width,yMax:d.yMax*this.height,width:d.width*this.width,height:d.height*this.height}}},u.prototype.estimateFaces=function(v,d){return q1(this,void 0,void 0,function(){var g,f;return ee(this,function(w){switch(w.label){case 0:return d&&d.flipHorizontal&&d.flipHorizontal!==this.selfieMode&&(this.selfieMode=d.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),v instanceof Re?(f=ImageData.bind,[4,Mt(v)]):[3,2];case 1:return g=new(f.apply(ImageData,[void 0,w.sent(),v.shape[1],v.shape[0]])),[3,3];case 2:g=v,w.label=3;case 3:return v=g,[4,this.faceDetectorSolution.send({image:v})];case 4:return w.sent(),[2,this.faces]}})})},u.prototype.dispose=function(){this.faceDetectorSolution.close()},u.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},u.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},u}();function $t(u){return q1(this,void 0,void 0,function(){var v,d;return ee(this,function(g){switch(g.label){case 0:return v=function(f){if(f==null)return he({},K2);var w=he({},f);return w.runtime="mediapipe",w.modelType==null&&(w.modelType=K2.modelType),w.maxFaces==null&&(w.maxFaces=K2.maxFaces),w}(u),[4,(d=new Jt(v)).initialize()];case 1:return g.sent(),[2,d]}})})}function Tt(u){return u instanceof Re?{height:u.shape[0],width:u.shape[1]}:{height:u.height,width:u.width}}function Ot(u){return u instanceof Re?u:At(u)}function J2(u,v){F2(u.width!==0,function(){return v+" width cannot be 0."}),F2(u.height!==0,function(){return v+" height cannot be 0."})}function Zt(u,v,d){var g=v.outputTensorSize,f=v.keepAspectRatio,w=v.borderMode,y=v.outputTensorFloatRange,x=Tt(u),_=function(k,C){return C?{xCenter:C.xCenter*k.width,yCenter:C.yCenter*k.height,width:C.width*k.width,height:C.height*k.height,rotation:C.rotation}:{xCenter:.5*k.width,yCenter:.5*k.height,width:k.width,height:k.height,rotation:0}}(x,d),E=function(k,C,I){if(I===void 0&&(I=!1),!I)return{top:0,left:0,right:0,bottom:0};var D=C.height,H=C.width;J2(C,"targetSize"),J2(k,"roi");var B,W,z=D/H,Y=k.height/k.width,K=0,X=0;return z>Y?(B=k.width,W=k.width*z,X=(1-Y/z)/2):(B=k.height/z,W=k.height,K=(1-z/Y)/2),k.width=B,k.height=W,{top:X,left:K,right:K,bottom:X}}(_,g,f),b=function(k,C,I,D){var H=k.width,B=k.height,W=D?-1:1,z=Math.cos(k.rotation),Y=Math.sin(k.rotation),K=k.xCenter,X=k.yCenter,a1=1/C,l1=1/I,G=new Array(16);return G[0]=H*z*W*a1,G[1]=-B*Y*a1,G[2]=0,G[3]=(-.5*H*z*W+.5*B*Y+K)*a1,G[4]=H*Y*W*l1,G[5]=B*z*l1,G[6]=0,G[7]=(-.5*B*z-.5*H*Y*W+X)*l1,G[8]=0,G[9]=0,G[10]=H*a1,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,function(t1){if(t1.length!==16)throw new Error("Array length must be 16 but got "+t1.length);return[[t1[0],t1[1],t1[2],t1[3]],[t1[4],t1[5],t1[6],t1[7]],[t1[8],t1[9],t1[10],t1[11]],[t1[12],t1[13],t1[14],t1[15]]]}(G)}(_,x.width,x.height,!1),j=W1(function(){var k=Ot(u),C=nt(function(H,B,W){return J2(W,"inputResolution"),[1/W.width*H[0][0]*B.width,1/W.height*H[0][1]*B.width,H[0][3]*B.width,1/W.width*H[1][0]*B.height,1/W.height*H[1][1]*B.height,H[1][3]*B.height,0,0]}(b,x,g),[1,8]),I=w==="zero"?"constant":"nearest",D=n2.transform(R2(C2(k,"float32")),C,"bilinear",I,0,[g.height,g.width]);return y!=null?function(H,B){var W=function(z,Y,K,X){var a1=(X-K)/255;return{scale:a1,offset:K-0*a1}}(0,0,B[0],B[1]);return W1(function(){return ce(H1(H,W.scale),W.offset)})}(D,y):D});return{imageTensor:j,padding:E,transformationMatrix:b}}function ct(u){u.reduceBoxesInLowestLayer==null&&(u.reduceBoxesInLowestLayer=!1),u.interpolatedScaleAspectRatio==null&&(u.interpolatedScaleAspectRatio=1),u.fixedAnchorSize==null&&(u.fixedAnchorSize=!1);for(var v=[],d=0;d<u.numLayers;){for(var g=[],f=[],w=[],y=[],x=d;x<u.strides.length&&u.strides[x]===u.strides[d];){var _=ht(u.minScale,u.maxScale,x,u.strides.length);if(x===0&&u.reduceBoxesInLowestLayer)w.push(1),w.push(2),w.push(.5),y.push(.1),y.push(_),y.push(_);else{for(var E=0;E<u.aspectRatios.length;++E)w.push(u.aspectRatios[E]),y.push(_);if(u.interpolatedScaleAspectRatio>0){var b=x===u.strides.length-1?1:ht(u.minScale,u.maxScale,x+1,u.strides.length);y.push(Math.sqrt(_*b)),w.push(u.interpolatedScaleAspectRatio)}}x++}for(var j=0;j<w.length;++j){var k=Math.sqrt(w[j]);g.push(y[j]/k),f.push(y[j]*k)}var C=0,I=0;if(u.featureMapHeight.length>0)C=u.featureMapHeight[d],I=u.featureMapWidth[d];else{var D=u.strides[d];C=Math.ceil(u.inputSizeHeight/D),I=Math.ceil(u.inputSizeWidth/D)}for(var H=0;H<C;++H)for(var B=0;B<I;++B)for(var W=0;W<g.length;++W){var z={xCenter:(B+u.anchorOffsetX)/I,yCenter:(H+u.anchorOffsetY)/C,width:0,height:0};u.fixedAnchorSize?(z.width=1,z.height=1):(z.width=f[W],z.height=g[W]),v.push(z)}d=x}return v}function ht(u,v,d,g){return g===1?.5*(u+v):u+(v-u)*d/(g-1)}function lt(u,v){var d=v[0],g=v[1];return[d*u[0]+g*u[1]+u[3],d*u[4]+g*u[5]+u[7]]}function Qt(u,v,d,g){return q1(this,void 0,void 0,function(){var f,w,y,x,_;return ee(this,function(E){switch(E.label){case 0:return u.sort(function(b,j){return Math.max.apply(Math,j.score)-Math.max.apply(Math,b.score)}),f=nt(u.map(function(b){return[b.locationData.relativeBoundingBox.yMin,b.locationData.relativeBoundingBox.xMin,b.locationData.relativeBoundingBox.yMax,b.locationData.relativeBoundingBox.xMax]})),w=t2(u.map(function(b){return b.score[0]})),[4,n2.nonMaxSuppressionAsync(f,w,v,d)];case 1:return[4,(y=E.sent()).array()];case 2:return x=E.sent(),_=u.filter(function(b,j){return x.indexOf(j)>-1}),$1([f,w,y]),[2,_]}})})}function qt(u,v,d){return q1(this,void 0,void 0,function(){var g,f,w,y,x;return ee(this,function(_){switch(_.label){case 0:return g=u[0],f=u[1],w=function(E,b,j){return W1(function(){var k,C,I,D;j.reverseOutputOrder?(C=y1(_1(E,[0,j.boxCoordOffset+0],[-1,1])),k=y1(_1(E,[0,j.boxCoordOffset+1],[-1,1])),D=y1(_1(E,[0,j.boxCoordOffset+2],[-1,1])),I=y1(_1(E,[0,j.boxCoordOffset+3],[-1,1]))):(k=y1(_1(E,[0,j.boxCoordOffset+0],[-1,1])),C=y1(_1(E,[0,j.boxCoordOffset+1],[-1,1])),I=y1(_1(E,[0,j.boxCoordOffset+2],[-1,1])),D=y1(_1(E,[0,j.boxCoordOffset+3],[-1,1]))),C=ce(H1(R1(C,j.xScale),b.w),b.x),k=ce(H1(R1(k,j.yScale),b.h),b.y),j.applyExponentialOnBoxSize?(I=H1(it(R1(I,j.hScale)),b.h),D=H1(it(R1(D,j.wScale)),b.w)):(I=H1(R1(I,j.hScale),b.h),D=H1(R1(D,j.wScale),b.h));var H=ot(k,R1(I,2)),B=ot(C,R1(D,2)),W=ce(k,R1(I,2)),z=ce(C,R1(D,2)),Y=at([Ce(H,[j.numBoxes,1]),Ce(B,[j.numBoxes,1]),Ce(W,[j.numBoxes,1]),Ce(z,[j.numBoxes,1])],1);if(j.numKeypoints)for(var K=0;K<j.numKeypoints;++K){var X=j.keypointCoordOffset+K*j.numValuesPerKeypoint,a1=void 0,l1=void 0;j.reverseOutputOrder?(a1=y1(_1(E,[0,X],[-1,1])),l1=y1(_1(E,[0,X+1],[-1,1]))):(l1=y1(_1(E,[0,X],[-1,1])),a1=y1(_1(E,[0,X+1],[-1,1])));var G=ce(H1(R1(a1,j.xScale),b.w),b.x),t1=ce(H1(R1(l1,j.yScale),b.h),b.y);Y=at([Y,Ce(G,[j.numBoxes,1]),Ce(t1,[j.numBoxes,1])],1)}return Y})}(f,v,d),y=W1(function(){var E=g;return d.sigmoidScore?(d.scoreClippingThresh!=null&&(E=Rt(g,-d.scoreClippingThresh,d.scoreClippingThresh)),E=Lt(E)):E}),[4,en(w,y,d)];case 1:return x=_.sent(),$1([w,y]),[2,x]}})})}function en(u,v,d){return q1(this,void 0,void 0,function(){var g,f,w,y,x,_,E,b,j,k,C,I;return ee(this,function(D){switch(D.label){case 0:return g=[],[4,u.data()];case 1:return f=D.sent(),[4,v.data()];case 2:for(w=D.sent(),y=0;y<d.numBoxes;++y)if(!(d.minScoreThresh!=null&&w[y]<d.minScoreThresh||(x=y*d.numCoords,_=tn(f[x+0],f[x+1],f[x+2],f[x+3],w[y],d.flipVertically,y),(E=_.locationData.relativeBoundingBox).width<0||E.height<0))){if(d.numKeypoints>0)for((b=_.locationData).relativeKeypoints=[],j=d.numKeypoints*d.numValuesPerKeypoint,k=0;k<j;k+=d.numValuesPerKeypoint)C=x+d.keypointCoordOffset+k,I={x:f[C+0],y:d.flipVertically?1-f[C+1]:f[C+1]},b.relativeKeypoints.push(I);g.push(_)}return[2,g]}})})}function tn(u,v,d,g,f,w,y){return{score:[f],ind:y,locationData:{relativeBoundingBox:{xMin:v,yMin:w?1-d:u,xMax:g,yMax:w?1-u:d,width:g-v,height:d-u}}}}var j2,nn={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},rn={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},$2={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},on={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},an={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},sn={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},un={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},cn=function(){function u(v,d,g){this.detectorModel=d,this.maxFaces=g,v==="full"?(this.imageToTensorConfig=un,this.tensorsToDetectionConfig=an,this.anchors=ct(rn)):(this.imageToTensorConfig=sn,this.tensorsToDetectionConfig=on,this.anchors=ct(nn));var f=t2(this.anchors.map(function(_){return _.width})),w=t2(this.anchors.map(function(_){return _.height})),y=t2(this.anchors.map(function(_){return _.xCenter})),x=t2(this.anchors.map(function(_){return _.yCenter}));this.anchorTensor={x:y,y:x,w:f,h:w}}return u.prototype.dispose=function(){this.detectorModel.dispose(),$1([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},u.prototype.reset=function(){},u.prototype.detectFaces=function(v,d){return d===void 0&&(d=!1),q1(this,void 0,void 0,function(){var g,f,w,y,x,_,E,b,j,k,C;return ee(this,function(I){switch(I.label){case 0:return v==null?(this.reset(),[2,[]]):(g=W1(function(){var D=C2(Ot(v),"float32");return d&&(D=y1(n2.flipLeftRight(R2(D,0)),[0])),D}),f=Zt(g,this.imageToTensorConfig),w=f.imageTensor,y=f.transformationMatrix,x=this.detectorModel.execute(w,"Identity:0"),_=function(D){return W1(function(){var H=function(z){return W1(function(){return[_1(z,[0,0,0],[1,-1,1]),_1(z,[0,0,1],[1,-1,-1])]})}(D),B=H[0],W=H[1];return{boxes:y1(W),logits:y1(B)}})}(x),E=_.boxes,[4,qt([b=_.logits,E],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(j=I.sent()).length===0?($1([g,w,x,b,E]),[2,j]):[4,Qt(j,this.maxFaces,.3)];case 2:return k=I.sent(),C=function(D,H){D===void 0&&(D=[]);var B,W=(B=H,[].concat.apply([],B));return D.forEach(function(z){var Y=z.locationData;Y.relativeKeypoints.forEach(function(t1){var U1=lt(W,[t1.x,t1.y]),X1=U1[0],u1=U1[1];t1.x=X1,t1.y=u1});var K=Y.relativeBoundingBox,X=Number.MAX_VALUE,a1=Number.MAX_VALUE,l1=Number.MIN_VALUE,G=Number.MIN_VALUE;[[K.xMin,K.yMin],[K.xMin+K.width,K.yMin],[K.xMin+K.width,K.yMin+K.height],[K.xMin,K.yMin+K.height]].forEach(function(t1){var U1=lt(W,t1),X1=U1[0],u1=U1[1];X=Math.min(X,X1),l1=Math.max(l1,X1),a1=Math.min(a1,u1),G=Math.max(G,u1)}),Y.relativeBoundingBox={xMin:X,xMax:l1,yMin:a1,yMax:G,width:l1-X,height:G-a1}}),D}(k,y),$1([g,w,x,b,E]),[2,C]}})})},u.prototype.estimateFaces=function(v,d){return q1(this,void 0,void 0,function(){var g,f;return ee(this,function(w){return g=Tt(v),f=!!d&&d.flipHorizontal,[2,this.detectFaces(v,f).then(function(y){return y.map(function(x){for(var _=x.locationData.relativeKeypoints.map(function(I,D){return he(he({},I),{x:I.x*g.width,y:I.y*g.height,name:Et[D]})}),E=x.locationData.relativeBoundingBox,b=0,j=["width","xMax","xMin"];b<j.length;b++)E[j[b]]*=g.width;for(var k=0,C=["height","yMax","yMin"];k<C.length;k++)E[C[k]]*=g.height;return{keypoints:_,box:E}})})]})})},u}();function hn(u){return q1(this,void 0,void 0,function(){var v,d,g;return ee(this,function(f){switch(f.label){case 0:return v=function(w){if(w==null)return he({},$2);var y=he({},w);return y.modelType==null&&(y.modelType=$2.modelType),y.maxFaces==null&&(y.maxFaces=$2.maxFaces),y.detectorModelUrl==null&&(y.modelType==="full"?y.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":y.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),y}(u),d=typeof v.detectorModelUrl=="string"&&v.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,xt(v.detectorModelUrl,{fromTFHub:d})];case 1:return g=f.sent(),[2,new cn(v.modelType,g,v.maxFaces)]}})})}function ln(u,v){return q1(this,void 0,void 0,function(){var d,g;return ee(this,function(f){if(u===j2.MediaPipeFaceDetector){if(g=void 0,(d=v)!=null){if(d.runtime==="tfjs")return[2,hn(d)];if(d.runtime==="mediapipe")return[2,$t(d)];g=d.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+g)}throw new Error(u+" is not a supported model name.")})})}function Z2(u){return u.width*u.height}function ft(u){var v=u.xCenter-u.width/2,d=v+u.width,g=u.yCenter-u.height/2;return{xMin:v,xMax:d,yMin:g,yMax:g+u.height,width:u.width,height:u.height}}function fn(u,v){var d=ft(u),g=ft(v);if(!function(y,x){return!(y.xMax<x.xMin||x.xMax<y.xMin||y.yMax<x.yMin||x.yMax<y.yMin)}(d,g))return 0;var f=Z2(function(y,x){var _=Math.max(y.xMin,x.xMin),E=Math.min(y.xMax,x.xMax),b=Math.max(y.yMin,x.yMin),j=Math.min(y.yMax,x.yMax);return{xMin:_,xMax:E,yMin:b,yMax:j,width:Math.max(E-_,0),height:Math.max(j-b,0)}}(d,g)),w=Z2(d)+Z2(g)-f;return w>0?f/w:0}function dn(u,v,d,g){var f=u.width,w=u.height,y=g?-1:1,x=Math.cos(u.rotation),_=Math.sin(u.rotation),E=u.xCenter,b=u.yCenter,j=1/v,k=1/d,C=new Array(16);return C[0]=f*x*y*j,C[1]=-w*_*j,C[2]=0,C[3]=(-.5*f*x*y+.5*w*_+E)*j,C[4]=f*_*y*k,C[5]=w*x*k,C[6]=0,C[7]=(-.5*w*x-.5*f*_*y+b)*k,C[8]=0,C[9]=0,C[10]=f*j,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,function(I){if(I.length!==16)throw new Error("Array length must be 16 but got "+I.length);return[[I[0],I[1],I[2],I[3]],[I[4],I[5],I[6],I[7]],[I[8],I[9],I[10],I[11]],[I[12],I[13],I[14],I[15]]]}(C)}function St(u){return u instanceof Re?{height:u.shape[0],width:u.shape[1]}:{height:u.height,width:u.width}}function Ft(u){return u-2*Math.PI*Math.floor((u+Math.PI)/(2*Math.PI))}function jt(u){return u instanceof Re?u:At(u)}function Q2(u,v){F2(u.width!==0,function(){return v+" width cannot be 0."}),F2(u.height!==0,function(){return v+" height cannot be 0."})}function gn(u,v){var d=function(g,f,w,y){var x=f-g,_=y-w;if(x===0)throw new Error("Original min and max are both "+g+", range cannot be 0.");var E=_/x;return{scale:E,offset:w-g*E}}(0,255,v[0],v[1]);return W1(function(){return ce(H1(u,d.scale),d.offset)})}function pn(u,v,d){var g=v.outputTensorSize,f=v.keepAspectRatio,w=v.borderMode,y=v.outputTensorFloatRange,x=St(u),_=function(k,C){return C?{xCenter:C.xCenter*k.width,yCenter:C.yCenter*k.height,width:C.width*k.width,height:C.height*k.height,rotation:C.rotation}:{xCenter:.5*k.width,yCenter:.5*k.height,width:k.width,height:k.height,rotation:0}}(x,d),E=function(k,C,I){if(I===void 0&&(I=!1),!I)return{top:0,left:0,right:0,bottom:0};var D=C.height,H=C.width;Q2(C,"targetSize"),Q2(k,"roi");var B,W,z=D/H,Y=k.height/k.width,K=0,X=0;return z>Y?(B=k.width,W=k.width*z,X=(1-Y/z)/2):(B=k.height/z,W=k.height,K=(1-z/Y)/2),k.width=B,k.height=W,{top:X,left:K,right:K,bottom:X}}(_,g,f),b=dn(_,x.width,x.height,!1),j=W1(function(){var k=jt(u),C=nt(function(H,B,W){return Q2(W,"inputResolution"),[1/W.width*H[0][0]*B.width,1/W.height*H[0][1]*B.width,H[0][3]*B.width,1/W.width*H[1][0]*B.height,1/W.height*H[1][1]*B.height,H[1][3]*B.height,0,0]}(b,x,g),[1,8]),I=w==="zero"?"constant":"nearest",D=n2.transform(R2(C2(k,"float32")),C,"bilinear",I,0,[g.height,g.width]);return y!=null?gn(D,y):D});return{imageTensor:j,padding:E,transformationMatrix:b}}function dt(u){return{xCenter:u.xMin+u.width/2,yCenter:u.yMin+u.height/2,width:u.width,height:u.height}}function gt(u){var v=u.relativeKeypoints;if(v.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var d=Number.MAX_VALUE,g=Number.MAX_VALUE,f=Number.MIN_VALUE,w=Number.MIN_VALUE;return v.forEach(function(y){d=Math.min(d,y.x),f=Math.max(f,y.x),g=Math.min(g,y.y),w=Math.max(w,y.y)}),{xCenter:(d+f)/2,yCenter:(g+w)/2,width:f-d,height:w-g}}function pt(u,v,d,g,f){var w=d==="rect"?function(y,x,_){var E,b=y.locationData;if(x==="boundingbox")E=dt(b.boundingBox);else{E=gt(b);var j=_.width,k=_.height;E.xCenter=Math.round(E.xCenter*j),E.yCenter=Math.round(E.yCenter*k),E.width=Math.round(E.width*j),E.height=Math.round(E.height*k)}return E}(u,v,g):function(y,x){var _=y.locationData;return x==="boundingbox"?dt(_.relativeBoundingBox):gt(_)}(u,v);return f&&(w.rotation=function(y,x,_){var E,b=y.locationData,j=_.rotationVectorStartKeypointIndex,k=_.rotationVectorEndKeypointIndex;E=_.rotationVectorTargetAngle?_.rotationVectorTargetAngle:Math.PI*_.rotationVectorTargetAngleDegree/180;var C=b.relativeKeypoints[j].x*x.width,I=b.relativeKeypoints[j].y*x.height,D=b.relativeKeypoints[k].x*x.width,H=b.relativeKeypoints[k].y*x.height;return Ft(E-Math.atan2(-(H-I),D-C))}(u,g,f)),w}function vn(u,v,d){for(var g=0;g<v.length;++g){var f=v[g],w=d[u[g]];w.x=f.x,w.y=f.y}}function yn(u,v,d,g){if(typeof v=="string"){if(v==="copy")for(var f=0;f<d.length;++f)g[u[f]].z=d[f].z}else{var w=function(y,x){for(var _=0,E=0;E<x.length;++E)_+=y[x[E]].z;return _/x.length}(g,v);for(f=0;f<u.length;++f)g[u[f]].z=w}}function mn(u,v){for(var d=function(x){var _=[].concat.apply([],x.map(function(C){return C.indexesMapping}));if(_.length===0)throw new Error("There should be at least one landmark in indexes mapping");var E=_[0],b=_[0],j=new Set(_);j.forEach(function(C){E=Math.min(E,C),b=Math.max(b,C)});var k=j.size;if(E!==0)throw new Error("Indexes are expected to start with 0 instead of "+E);if(b+1!==k)throw new Error("Indexes should have no gaps but "+(b-k+1)+" indexes are missing");return k}(v),g=new Array(d).fill(null).map(Object),f=0;f<u.length;++f){var w=u[f],y=v[f];if(w.length!==y.indexesMapping.length)throw new Error("There are "+w.length+" refinement landmarks while mapping has "+y.indexesMapping.length);vn(y.indexesMapping,w,g),yn(y.indexesMapping,y.zRefinement,w,g)}return g}function wn(u,v){return u.map(function(d){var g=I1(I1({},d),{x:d.x*v.width,y:d.y*v.height});return d.z!=null&&(g.z=d.z*v.width),g})}function bn(u,v){return u==="none"?v:function(d){return 1/(1+Math.exp(-d))}(v)}function xe(u,v,d,g){return Z1(this,void 0,void 0,function(){var f,w,y,x,_,E,b,j;return Q1(this,function(k){switch(k.label){case 0:return d=d||v.flipHorizontally||!1,g=g||v.flipVertically||!1,f=u.size,w=f/v.numLandmarks,[4,u.data()];case 1:for(y=k.sent(),x=[],_=0;_<v.numLandmarks;++_)E=_*w,(j={x:0,y:0}).x=d?v.inputImageWidth-y[E]:y[E],w>1&&(j.y=g?v.inputImageHeight-y[E+1]:y[E+1]),w>2&&(j.z=y[E+2]),w>3&&(j.score=bn(v.visibilityActivation,y[E+3])),x.push(j);for(b=0;b<x.length;++b)(j=x[b]).x=j.x/v.inputImageWidth,j.y=j.y/v.inputImageHeight,j.z=j.z/v.inputImageWidth/(v.normalizeZ||1);return[2,x]}})})}function vt(u,v,d){var g=u.width,f=u.height,w=u.rotation;if(d.rotation==null&&d.rotationDegree==null||(w=function(b,j){return j.rotation!=null?b+=j.rotation:j.rotationDegree!=null&&(b+=Math.PI*j.rotationDegree/180),Ft(b)}(w,d)),w===0)u.xCenter=u.xCenter+g*d.shiftX,u.yCenter=u.yCenter+f*d.shiftY;else{var y=(v.width*g*d.shiftX*Math.cos(w)-v.height*f*d.shiftY*Math.sin(w))/v.width,x=(v.width*g*d.shiftX*Math.sin(w)+v.height*f*d.shiftY*Math.cos(w))/v.height;u.xCenter=u.xCenter+y,u.yCenter=u.yCenter+x}if(d.squareLong){var _=Math.max(g*v.width,f*v.height);g=_/v.width,f=_/v.height}else if(d.squareShort){var E=Math.min(g*v.width,f*v.height);g=E/v.width,f=E/v.height}return u.width=g*d.scaleX,u.height=f*d.scaleY,u}(j2||(j2={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var q2={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},et={flipHorizontal:!1,staticImageMode:!1},yt={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},xn={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},mt={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Mn={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},wt={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},bt={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},An={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},_n={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},En={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},Tn={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},On={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},Sn={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},k2,Fn=function(){function u(v,d,g,f){this.detector=v,this.landmarkModel=d,this.maxFaces=g,this.withAttention=f,this.prevFaceRectsFromLandmarks=null}return u.prototype.estimateFaces=function(v,d){return Z1(this,void 0,void 0,function(){var g,f,w,y,x,_,E,b,j,k,C,I,D,H=this;return Q1(this,function(B){switch(B.label){case 0:return g=function(Y){if(Y==null)return I1({},et);var K=I1({},Y);return K.flipHorizontal==null&&(K.flipHorizontal=et.flipHorizontal),K.staticImageMode==null&&(K.staticImageMode=et.staticImageMode),K}(d),v==null?(this.reset(),[2,[]]):(f=St(v),w=W1(function(){var Y=C2(jt(v),"float32");return g.flipHorizontal&&(Y=y1(n2.flipLeftRight(R2(Y,0)),[0])),Y}),y=this.prevFaceRectsFromLandmarks,g.staticImageMode||y==null||y.length<this.maxFaces?[4,this.detector.detectFaces(w,!1)]:[3,2]);case 1:return(_=B.sent()).length===0?(this.reset(),w.dispose(),[2,[]]):(x=_.map(function(Y){return H.faceDetectionFrontDetectionToRoi(Y,f)}),[3,3]);case 2:x=[],B.label=3;case 3:return W=.5,z=[],[x,y||[]].forEach(function(Y){return Y.forEach(function(K){(z=z.filter(function(X){return fn(K,X)<=W})).push(K)})}),E=z,[4,Promise.all(E.map(function(Y){return H.faceLandmark(Y,w)}))];case 4:for(b=B.sent(),j=[],this.prevFaceRectsFromLandmarks=[],k=0;k<b.length;++k)(C=b[k])!=null&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(C,f)),(I=wn(C,f))!=null&&I.forEach(function(Y,K){var X=_t.get(K);X!=null&&(Y.name=X)}),D=tt(I),j.push({keypoints:I,box:D.locationData.relativeBoundingBox}));return w.dispose(),[2,j]}var W,z})})},u.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},u.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},u.prototype.faceDetectionFrontDetectionToRoi=function(v,d){return vt(pt(v,"boundingbox","normRect",d,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),d,yt)},u.prototype.faceLandmark=function(v,d){return Z1(this,void 0,void 0,function(){var g,f,w,y,x,_,E;return Q1(this,function(b){switch(b.label){case 0:return g=pn(d,xn,v).imageTensor,f=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),w=this.landmarkModel.execute(g,f),y=w[0],x=w.slice(1),[4,y.data()];case 1:return b.sent()[0]<.5?($1(w),$1(g),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(x)]:[3,3];case 2:return _=b.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(x)];case 4:_=b.sent(),b.label=5;case 5:return E=function(j,k,C){C===void 0&&(C={ignoreRotation:!1});for(var I=[],D=0,H=j;D<H.length;D++){var B=H[D],W=B.x-.5,z=B.y-.5,Y=C.ignoreRotation?0:k.rotation,K=Math.cos(Y)*W-Math.sin(Y)*z,X=Math.sin(Y)*W+Math.cos(Y)*z;K=K*k.width+k.xCenter,X=X*k.height+k.yCenter;var a1=B.z*k.width,l1=I1({},B);l1.x=K,l1.y=X,l1.z=a1,I.push(l1)}return I}(_,v),$1(w),$1(g),[2,E]}})})},u.prototype.tensorsToFaceLandmarks=function(v){return Z1(this,void 0,void 0,function(){return Q1(this,function(d){return[2,xe(v[0],mt)]})})},u.prototype.tensorsToFaceLandmarksWithAttention=function(v){return Z1(this,void 0,void 0,function(){var d,g,f,w,y,x;return Q1(this,function(_){switch(_.label){case 0:return[4,xe(v[0],mt)];case 1:return d=_.sent(),[4,xe(v[1],Mn)];case 2:return g=_.sent(),[4,xe(v[3],wt)];case 3:return f=_.sent(),[4,xe(v[5],wt)];case 4:return w=_.sent(),[4,xe(v[4],bt)];case 5:return y=_.sent(),[4,xe(v[2],bt)];case 6:return x=_.sent(),[2,mn([d,g,f,w,y,x],[An,_n,En,Tn,On,Sn])]}})})},u.prototype.faceLandmarksToRoi=function(v,d){return vt(pt(tt(v),"boundingbox","normRect",d,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),d,yt)},u}();function jn(u){return Z1(this,void 0,void 0,function(){var v,d,g,f;return Q1(this,function(w){switch(w.label){case 0:return v=function(y){if(y==null)return I1({},q2);var x=I1({},y);return x.runtime="tfjs",x.maxFaces==null&&(x.maxFaces=q2.maxFaces),x.refineLandmarks==null&&(x.refineLandmarks=q2.refineLandmarks),x.landmarkModelUrl==null&&(x.landmarkModelUrl=x.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),x}(u),d=typeof v.landmarkModelUrl=="string"&&v.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,xt(v.landmarkModelUrl,{fromTFHub:d})];case 1:return g=w.sent(),[4,ln(j2.MediaPipeFaceDetector,{modelType:"short",maxFaces:v.maxFaces,detectorModelUrl:v.detectorModelUrl,runtime:v.runtime})];case 2:return f=w.sent(),[2,new Fn(f,g,v.maxFaces,v.refineLandmarks)]}})})}function kn(u,v){return Z1(this,void 0,void 0,function(){var d,g;return Q1(this,function(f){if(u===k2.MediaPipeFaceMesh){if(g=void 0,(d=v)!=null){if(d.runtime==="tfjs")return[2,jn(d)];if(d.runtime==="mediapipe")return[2,Yt(d)];g=d.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+g)}throw new Error(u+" is not a supported model name.")})})}(function(u){u.MediaPipeFaceMesh="MediaPipeFaceMesh"})(k2||(k2={}));const kt=u=>(Dt("data-v-8aac5e91"),u=u(),zt(),u),Cn={class:"FaceLandmarksDetection"},Rn={class:"box"},Ln=kt(()=>Me("h3",null,"",-1)),Pn=kt(()=>Me("h3",null,"",-1)),In=Pt({__name:"FaceLandmarksDetection",setup(u){const v=S2(),d=S2(),g=It({status:!1});let f;S2();const w=S2(!1);function y(){if(g.status)v.value.srcObject.getTracks().forEach(_=>{_.stop()});else if(Ct()){const _={video:!0,width:640,height:480};navigator.mediaDevices.getUserMedia(_).then(function(E){v.value.srcObject=E,v.value.addEventListener("loadeddata",function(){x()})})}g.status=!g.status}async function x(){if(g.status){const{width:_,height:E}=d.value,b=d.value.getContext("2d");b.drawImage(v.value,0,0,_,E),d.value.toDataURL("image/png"),(await f.estimateFaces(document.getElementById("canvasRef"),{flipHorizontal:!1})).forEach(k=>{k.keypoints.forEach(C=>{const{name:I}=C;I&&(b.fillStyle="#409eff",b.beginPath(),b.arc(C.x,C.y,.6,0,2*Math.PI),b.fill())})}),window.requestAnimationFrame(x)}}return Ut(async()=>{const _=k2.MediaPipeFaceMesh;f=await kn(_,{runtime:"mediapipe",solutionPath:"/tensorflow/face_mesh"}),w.value=!0}),(_,E)=>(ut(),st("div",Cn,[Me("div",Rn,[Me("div",null,[Ln,Me("video",{id:"video",ref_key:"video",ref:v,autoplay:""},null,512)]),Me("div",null,[Pn,Me("canvas",{id:"canvasRef",ref_key:"canvasRef",ref:d},null,512)])]),w.value?(ut(),st("button",{key:0,onClick:y},Bt(g.status?"":"")+" ",1)):Nt("",!0)]))}});const Vn=Vt(In,[["__scopeId","data-v-8aac5e91"]]);export{Vn as default};
